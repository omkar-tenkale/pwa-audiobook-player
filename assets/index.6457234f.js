const t={};function e(e){t.context=e}const n=Symbol("solid-proxy"),r=Symbol("solid-track"),o=Symbol("solid-dev-component"),i={equals:(t,e)=>t===e};let a=null,s=B;const c={owned:null,cleanups:null,context:null,owner:null},l={};var u=null;let f=null,d=null,h=null,v=null,p=0;const[w,m]=y(!1);function b(t,e){const n=d,r=u,o=0===t.length,i=o?c:{owned:null,cleanups:null,context:null,owner:void 0===e?r:e},a=o?t:()=>t((()=>M((()=>Z(i)))));u=i,d=null;try{return U(a,!0)}finally{d=n,u=r}}function y(t,e){const n={value:t,observers:null,observerSlots:null,comparator:(e=e?Object.assign({},i,e):i).equals||void 0};return[N.bind(n),t=>("function"==typeof t&&(t=f&&f.running&&f.sources.has(n)?t(n.tValue):t(n.value)),R(n,t))]}function g(t,e,n){F(V(t,e,!0,1))}function k(t,e,n){F(V(t,e,!1,1))}function _(t,e,n){s=Y;const r=V(t,e,!1,1),o=q&&tt(u,q.id);o&&(r.suspense=o),r.user=!0,v?v.push(r):F(r)}function x(t,e,n){n=n?Object.assign({},i,n):i;const r=V(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,F(r),N.bind(r)}function A(e,n,r){let o,i,a;2===arguments.length&&"object"==typeof n||1===arguments.length?(o=!0,i=e,a=n||{}):(o=e,i=n,a=r||{});let s=null,c=l,h=null,v=!1,p=!1,w="initialValue"in a,m="function"==typeof o&&x(o);const b=new Set,[k,_]=(a.storage||y)(a.initialValue),[A,$]=y(void 0),[T,j]=y(void 0,{equals:!1}),[O,S]=y(w?"ready":"unresolved");if(t.context){let e;h=`${t.context.id}${t.context.count++}`,"initial"===a.ssrLoadFrom?c=a.initialValue:t.load&&(e=t.load(h))&&(c=e[0])}function I(t,e,n,r){return s===t&&(s=null,w=!0,t!==c&&e!==c||!a.onHydrated||queueMicrotask((()=>a.onHydrated(r,{value:e}))),c=l,f&&t&&v?(f.promises.delete(t),v=!1,U((()=>{f.running=!0,P(e,n)}),!1)):P(e,n)),e}function P(t,e){U((()=>{void 0===e&&_((()=>t)),S(void 0!==e?"errored":"ready"),$(e);for(const t of b.keys())t.decrement();b.clear()}),!1)}function L(){const t=q&&tt(u,q.id),e=k(),n=A();if(void 0!==n&&!s)throw n;return d&&!d.user&&t&&g((()=>{T(),s&&(t.resolved&&f&&v?f.promises.add(s):b.has(t)||(t.increment(),b.add(t)))})),e}function C(t=!0){if(!1!==t&&p)return;p=!1;const e=m?m():o;if(v=f&&f.running,null==e||!1===e)return void I(s,M(k));f&&s&&f.promises.delete(s);const n=c!==l?c:M((()=>i(e,{value:k(),refetching:t})));return"object"==typeof n&&n&&"then"in n?(s=n,p=!0,queueMicrotask((()=>p=!1)),U((()=>{S(w?"refreshing":"pending"),j()}),!1),n.then((t=>I(n,t,void 0,e)),(t=>I(n,void 0,J(t),e)))):(I(s,n,void 0,e),n)}return Object.defineProperties(L,{state:{get:()=>O()},error:{get:()=>A()},loading:{get(){const t=O();return"pending"===t||"refreshing"===t}},latest:{get(){if(!w)return L();const t=A();if(t&&!s)throw t;return k()}}}),m?g((()=>C(!1))):C(!1),[L,{refetch:C,mutate:_}]}function $(t){return U(t,!1)}function M(t){if(null===d)return t();const e=d;d=null;try{return t()}finally{d=e}}function T(t,e,n){const r=Array.isArray(t);let o,i=n&&n.defer;return n=>{let a;if(r){a=Array(t.length);for(let e=0;e<t.length;e++)a[e]=t[e]()}else a=t();if(i)return void(i=!1);const s=M((()=>e(a,o,n)));return o=a,s}}function j(t){_((()=>M(t)))}function O(t){return null===u||(null===u.cleanups?u.cleanups=[t]:u.cleanups.push(t)),t}function S(t){a||(a=Symbol("error")),null===u||(null===u.context?u.context={[a]:[t]}:u.context[a]?u.context[a].push(t):u.context[a]=[t])}function I(){return d}function P(){return u}function L(t){if(f&&f.running)return t(),f.done;const e=d,n=u;return Promise.resolve().then((()=>{let r;return d=e,u=n,q&&(r=f||(f={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise((t=>r.resolve=t))),r.running=!0),U(t,!1),d=u=null,r?r.done:void 0}))}function C(t,e){const n=Symbol("context");return{id:n,Provider:nt(n),defaultValue:t}}function z(t){let e;return void 0!==(e=tt(u,t.id))?e:t.defaultValue}function E(t){const e=x(t),n=x((()=>et(e())));return n.toArray=()=>{const t=n();return Array.isArray(t)?t:null!=t?[t]:[]},n}let q;function N(){const t=f&&f.running;if(this.sources&&(!t&&this.state||t&&this.tState))if(!t&&1===this.state||t&&1===this.tState)F(this);else{const t=h;h=null,U((()=>G(this)),!1),h=t}if(d){const t=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(t)):(d.sources=[this],d.sourceSlots=[t]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return t&&f.sources.has(this)?this.tValue:this.value}function R(t,e,n){let r=f&&f.running&&f.sources.has(t)?t.tValue:t.value;if(!t.comparator||!t.comparator(r,e)){if(f){const r=f.running;(r||!n&&f.sources.has(t))&&(f.sources.add(t),t.tValue=e),r||(t.value=e)}else t.value=e;t.observers&&t.observers.length&&U((()=>{for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e],r=f&&f.running;r&&f.disposed.has(n)||((r&&!n.tState||!r&&!n.state)&&(n.pure?h.push(n):v.push(n),n.observers&&K(n)),r?n.tState=1:n.state=1)}if(h.length>1e6)throw h=[],new Error}),!1)}return e}function F(t){if(!t.fn)return;Z(t);const e=u,n=d,r=p;d=u=t,D(t,f&&f.running&&f.sources.has(t)?t.tValue:t.value,r),f&&!f.running&&f.sources.has(t)&&queueMicrotask((()=>{U((()=>{f&&(f.running=!0),d=u=t,D(t,t.tValue,r),d=u=null}),!1)})),d=n,u=e}function D(t,e,n){let r;try{r=t.fn(e)}catch(o){return t.pure&&(f&&f.running?(t.tState=1,t.tOwned&&t.tOwned.forEach(Z),t.tOwned=void 0):(t.state=1,t.owned&&t.owned.forEach(Z),t.owned=null)),t.updatedAt=n+1,X(o)}(!t.updatedAt||t.updatedAt<=n)&&(null!=t.updatedAt&&"observers"in t?R(t,r,!0):f&&f.running&&t.pure?(f.sources.add(t),t.tValue=r):t.value=r,t.updatedAt=n)}function V(t,e,n,r=1,o){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:u,context:null,pure:n};return f&&f.running&&(i.state=0,i.tState=r),null===u||u!==c&&(f&&f.running&&u.pure?u.tOwned?u.tOwned.push(i):u.tOwned=[i]:u.owned?u.owned.push(i):u.owned=[i]),i}function H(t){const e=f&&f.running;if(!e&&0===t.state||e&&0===t.tState)return;if(!e&&2===t.state||e&&2===t.tState)return G(t);if(t.suspense&&M(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<p);){if(e&&f.disposed.has(t))return;(!e&&t.state||e&&t.tState)&&n.push(t)}for(let r=n.length-1;r>=0;r--){if(t=n[r],e){let e=t,o=n[r+1];for(;(e=e.owner)&&e!==o;)if(f.disposed.has(e))return}if(!e&&1===t.state||e&&1===t.tState)F(t);else if(!e&&2===t.state||e&&2===t.tState){const e=h;h=null,U((()=>G(t,n[0])),!1),h=e}}}function U(t,e){if(h)return t();let n=!1;e||(h=[]),v?n=!0:v=[],p++;try{const e=t();return function(t){if(h&&(B(h),h=null),t)return;let e;if(f)if(f.promises.size||f.queue.size){if(f.running)return f.running=!1,f.effects.push.apply(f.effects,v),v=null,void m(!0)}else{const t=f.sources,n=f.disposed;v.push.apply(v,f.effects),e=f.resolve;for(const e of v)"tState"in e&&(e.state=e.tState),delete e.tState;f=null,U((()=>{for(const t of n)Z(t);for(const e of t){if(e.value=e.tValue,e.owned)for(let t=0,n=e.owned.length;t<n;t++)Z(e.owned[t]);e.tOwned&&(e.owned=e.tOwned),delete e.tValue,delete e.tOwned,e.tState=0}m(!1)}),!1)}const n=v;v=null,n.length&&U((()=>s(n)),!1),e&&e()}(n),e}catch(r){n||(v=null),h=null,X(r)}}function B(t){for(let e=0;e<t.length;e++)H(t[e])}function Y(n){let r,o=0;for(r=0;r<n.length;r++){const t=n[r];t.user?n[o++]=t:H(t)}for(t.context&&e(),r=0;r<o;r++)H(n[r])}function G(t,e){const n=f&&f.running;n?t.tState=0:t.state=0;for(let r=0;r<t.sources.length;r+=1){const o=t.sources[r];o.sources&&(!n&&1===o.state||n&&1===o.tState?o!==e&&(!o.updatedAt||o.updatedAt<p)&&H(o):(!n&&2===o.state||n&&2===o.tState)&&G(o,e))}}function K(t){const e=f&&f.running;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!e&&!r.state||e&&!r.tState)&&(e?r.tState=2:r.state=2,r.pure?h.push(r):v.push(r),r.observers&&K(r))}}function Z(t){let e;if(t.sources)for(;t.sources.length;){const e=t.sources.pop(),n=t.sourceSlots.pop(),r=e.observers;if(r&&r.length){const t=r.pop(),o=e.observerSlots.pop();n<r.length&&(t.sourceSlots[o]=n,r[n]=t,e.observerSlots[n]=o)}}if(f&&f.running&&t.pure){if(t.tOwned){for(e=0;e<t.tOwned.length;e++)Z(t.tOwned[e]);delete t.tOwned}W(t,!0)}else if(t.owned){for(e=0;e<t.owned.length;e++)Z(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}f&&f.running?t.tState=0:t.state=0,t.context=null}function W(t,e){if(e||(t.tState=0,f.disposed.add(t)),t.owned)for(let n=0;n<t.owned.length;n++)W(t.owned[n])}function J(t){return t instanceof Error||"string"==typeof t?t:new Error("Unknown error")}function Q(t,e){for(const n of t)n(e)}function X(t){t=J(t);const e=a&&tt(u,a);if(!e)throw t;v?v.push({fn(){Q(e,t)},state:1}):Q(e,t)}function tt(t,e){return t?t.context&&void 0!==t.context[e]?t.context[e]:tt(t.owner,e):void 0}function et(t){if("function"==typeof t&&!t.length)return et(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=et(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function nt(t,e){return function(e){let n;return k((()=>n=M((()=>(u.context={[t]:e.value},E((()=>e.children)))))),void 0),n}}const rt=Symbol("fallback");function ot(t){for(let e=0;e<t.length;e++)t[e]()}function it(t,e){return M((()=>t(e||{})))}function at(){return!0}const st={get:(t,e,r)=>e===n?r:t.get(e),has:(t,e)=>e===n||t.has(e),set:at,deleteProperty:at,getOwnPropertyDescriptor:(t,e)=>({configurable:!0,enumerable:!0,get:()=>t.get(e),set:at,deleteProperty:at}),ownKeys:t=>t.keys()};function ct(t){return(t="function"==typeof t?t():t)?t:{}}function lt(...t){let e=!1;for(let o=0;o<t.length;o++){const r=t[o];e=e||!!r&&n in r,t[o]="function"==typeof r?(e=!0,x(r)):r}if(e)return new Proxy({get(e){for(let n=t.length-1;n>=0;n--){const r=ct(t[n])[e];if(void 0!==r)return r}},has(e){for(let n=t.length-1;n>=0;n--)if(e in ct(t[n]))return!0;return!1},keys(){const e=[];for(let n=0;n<t.length;n++)e.push(...Object.keys(ct(t[n])));return[...new Set(e)]}},st);const r={};for(let n=t.length-1;n>=0;n--)if(t[n]){const e=Object.getOwnPropertyDescriptors(t[n]);for(const n in e)n in r||Object.defineProperty(r,n,{enumerable:!0,get(){for(let e=t.length-1;e>=0;e--){const r=(t[e]||{})[n];if(void 0!==r)return r}}})}return r}function ut(t,...e){const r=new Set(e.flat());if(n in t){const n=e.map((e=>new Proxy({get:n=>e.includes(n)?t[n]:void 0,has:n=>e.includes(n)&&n in t,keys:()=>e.filter((e=>e in t))},st)));return n.push(new Proxy({get:e=>r.has(e)?void 0:t[e],has:e=>!r.has(e)&&e in t,keys:()=>Object.keys(t).filter((t=>!r.has(t)))},st)),n}const o=Object.getOwnPropertyDescriptors(t);return e.push(Object.keys(o).filter((t=>!r.has(t)))),e.map((e=>{const n={};for(let r=0;r<e.length;r++){const i=e[r];i in t&&Object.defineProperty(n,i,o[i]?o[i]:{get:()=>t[i],set:()=>!0,enumerable:!0})}return n}))}function ft(n){let r,o;const i=i=>{const a=t.context;if(a){const[t,i]=y();(o||(o=n())).then((t=>{e(a),i((()=>t.default)),e()})),r=t}else if(!r){const[t]=A((()=>(o||(o=n())).then((t=>t.default))));r=t}let s;return x((()=>(s=r())&&M((()=>{if(!a)return s(i);const n=t.context;e(a);const r=s(i);return e(n),r}))))};return i.preload=()=>o||((o=n()).then((t=>r=()=>t.default)),o),i}function dt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return x(function(t,e,n={}){let o=[],i=[],a=[],s=0,c=e.length>1?[]:null;return O((()=>ot(a))),()=>{let l,u,f=t()||[];return f[r],M((()=>{let t,e,r,h,v,p,w,m,y,g=f.length;if(0===g)0!==s&&(ot(a),a=[],o=[],i=[],s=0,c&&(c=[])),n.fallback&&(o=[rt],i[0]=b((t=>(a[0]=t,n.fallback()))),s=1);else if(0===s){for(i=new Array(g),u=0;u<g;u++)o[u]=f[u],i[u]=b(d);s=g}else{for(r=new Array(g),h=new Array(g),c&&(v=new Array(g)),p=0,w=Math.min(s,g);p<w&&o[p]===f[p];p++);for(w=s-1,m=g-1;w>=p&&m>=p&&o[w]===f[m];w--,m--)r[m]=i[w],h[m]=a[w],c&&(v[m]=c[w]);for(t=new Map,e=new Array(m+1),u=m;u>=p;u--)y=f[u],l=t.get(y),e[u]=void 0===l?-1:l,t.set(y,u);for(l=p;l<=w;l++)y=o[l],u=t.get(y),void 0!==u&&-1!==u?(r[u]=i[l],h[u]=a[l],c&&(v[u]=c[l]),u=e[u],t.set(y,u)):a[l]();for(u=p;u<g;u++)u in r?(i[u]=r[u],a[u]=h[u],c&&(c[u]=v[u],c[u](u))):i[u]=b(d);i=i.slice(0,s=g),o=f.slice(0)}return i}));function d(t){if(a[u]=t,c){const[t,n]=y(u);return c[u]=n,e(f[u],t)}return e(f[u])}}}((()=>t.each),t.children,e||void 0))}function ht(t){const e="fallback"in t&&{fallback:()=>t.fallback};return x(function(t,e,n={}){let o,i=[],a=[],s=[],c=[],l=0;return O((()=>ot(s))),()=>{const u=t()||[];return u[r],M((()=>{if(0===u.length)return 0!==l&&(ot(s),s=[],i=[],a=[],l=0,c=[]),n.fallback&&(i=[rt],a[0]=b((t=>(s[0]=t,n.fallback()))),l=1),a;for(i[0]===rt&&(s[0](),s=[],i=[],a=[],l=0),o=0;o<u.length;o++)o<i.length&&i[o]!==u[o]?c[o]((()=>u[o])):o>=i.length&&(a[o]=b(f));for(;o<i.length;o++)s[o]();return l=c.length=s.length=u.length,i=u.slice(0),a=a.slice(0,l)}));function f(t){s[o]=t;const[n,r]=y(u[o]);return c[o]=r,e(n,o)}}}((()=>t.each),t.children,e||void 0))}function vt(t){let e=!1;const n=t.keyed,r=x((()=>t.when),void 0,{equals:(t,n)=>e?t===n:!t==!n});return x((()=>{const o=r();if(o){const r=t.children,i="function"==typeof r&&r.length>0;return e=n||i,i?M((()=>r(o))):r}return t.fallback}),void 0,void 0)}function pt(t){let e=!1,n=!1;const r=E((()=>t.children)),o=x((()=>{let t=r();Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){const r=t[e].when;if(r)return n=!!t[e].keyed,[e,r,t[e]]}return[-1]}),void 0,{equals:(t,n)=>t[0]===n[0]&&(e?t[1]===n[1]:!t[1]==!n[1])&&t[2]===n[2]});return x((()=>{const[r,i,a]=o();if(r<0)return t.fallback;const s=a.children,c="function"==typeof s&&s.length>0;return e=n||c,c?M((()=>s(i))):s}),void 0,void 0)}function wt(t){return t}let mt;function bt(e){let n,r;t.context&&t.load&&(r=t.load(t.context.id+t.context.count))&&(n=r[0]);const[o,i]=y(n,void 0);return mt||(mt=new Set),mt.add(i),O((()=>mt.delete(i))),x((()=>{let t;if(t=o()){const n=e.fallback,r="function"==typeof n&&n.length?M((()=>n(t,(()=>i())))):n;return S(i),r}return S(i),e.children}),void 0,void 0)}const yt=C();function gt(n){let r,o,i,a,s,c=0;const[l,u]=y(!1),f=q||(q=C({})),d={increment:()=>{1==++c&&u(!0)},decrement:()=>{0==--c&&u(!1)},inFallback:l,effects:[],resolved:!1},h=P();if(t.context&&t.load){const n=t.context.id+t.context.count;let r=t.load(n);if(r&&(i=r[0])&&"$$f"!==i){"object"==typeof i&&"then"in i||(i=Promise.resolve(i));const[r,c]=y(void 0,{equals:!1});a=r,i.then((r=>{if(r||t.done)return r&&(s=r),c();t.gather(n),e(o),c(),e()}))}}const p=z(yt);let w;return p&&(r=p.register(d.inFallback)),O((()=>w&&w())),it(f.Provider,{value:d,get children(){return x((()=>{if(s)throw s;if(o=t.context,a)return a(),a=void 0;o&&"$$f"===i&&e();const c=x((()=>n.children));return x((t=>{const a=d.inFallback(),{showContent:s=!0,showFallback:l=!0}=r?r():{};return(!a||i&&"$$f"!==i)&&s?(d.resolved=!0,w&&w(),w=o=i=void 0,u=d.effects,v.push.apply(v,u),u.length=0,c()):l?w?t:b((t=>(w=t,o&&(e({id:o.id+"f",count:0}),o=void 0),n.fallback)),h):void 0;var u}))}))}})}const kt=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),_t=new Set(["innerHTML","textContent","innerText","children"]),xt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),At=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),$t=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Mt=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Tt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function jt(t,e,n){const r=document.createElement("template");if(r.innerHTML=t,e&&r.innerHTML.split("<").length-1!==e)throw`The browser resolved template HTML does not match JSX input:\n${r.innerHTML}\n\n${t}. Is your HTML properly formed?`;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function Ot(t,e=window.document){const n=e.t||(e.t=new Set);for(let r=0,o=t.length;r<o;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,qt))}}function St(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function It(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const r=n[0];t.addEventListener(e,n[0]=e=>r.call(t,n[1],e))}else t.addEventListener(e,n)}function Pt(t,e,n){if(!e)return n?St(t,"style"):e;const r=t.style;if("string"==typeof e)return r.cssText=e;let o,i;for(i in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),e||(e={}),n)null==e[i]&&r.removeProperty(i),delete n[i];for(i in e)o=e[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function Lt(t,e={},n,r){const o={};return r||k((()=>o.children=Nt(t,e.children,o.children))),k((()=>e.ref&&e.ref(t))),k((()=>function(t,e,n,r,o={},i=!1){e||(e={});for(const a in o)if(!(a in e)){if("children"===a)continue;o[a]=Et(t,a,null,o[a],n,i)}for(const a in e){if("children"===a){r||Nt(t,e.children);continue}const s=e[a];o[a]=Et(t,a,s,o[a],n,i)}}(t,e,n,!0,o,!0))),o}function Ct(t,e,n,r){if(void 0===n||r||(r=[]),"function"!=typeof e)return Nt(t,e,r,n);k((r=>Nt(t,e(),r,n)),r)}function zt(t,e,n){const r=e.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)t.classList.toggle(r[o],n)}function Et(t,e,n,r,o,i){let a,s,c;if("style"===e)return Pt(t,n,r);if("classList"===e)return function(t,e,n={}){const r=Object.keys(e||{}),o=Object.keys(n);let i,a;for(i=0,a=o.length;i<a;i++){const r=o[i];r&&"undefined"!==r&&!e[r]&&(zt(t,r,!1),delete n[r])}for(i=0,a=r.length;i<a;i++){const o=r[i],a=!!e[o];o&&"undefined"!==o&&n[o]!==a&&a&&(zt(t,o,!0),n[o]=a)}return n}(t,n,r);if(n===r)return r;if("ref"===e)i||n(t);else if("on:"===e.slice(0,3)){const o=e.slice(3);r&&t.removeEventListener(o,r),n&&t.addEventListener(o,n)}else if("oncapture:"===e.slice(0,10)){const o=e.slice(10);r&&t.removeEventListener(o,r,!0),n&&t.addEventListener(o,n,!0)}else if("on"===e.slice(0,2)){const o=e.slice(2).toLowerCase(),i=$t.has(o);if(!i&&r){const e=Array.isArray(r)?r[0]:r;t.removeEventListener(o,e)}(i||n)&&(It(t,o,n,i),i&&Ot([o]))}else if((c=_t.has(e))||!o&&(At[e]||(s=kt.has(e)))||(a=t.nodeName.includes("-")))"class"===e||"className"===e?function(t,e){null==e?t.removeAttribute("class"):t.className=e}(t,n):!a||s||c?t[At[e]||e]=n:t[(l=e,l.toLowerCase().replace(/-([a-z])/g,((t,e)=>e.toUpperCase())))]=n;else{const r=o&&e.indexOf(":")>-1&&Tt[e.split(":")[0]];r?function(t,e,n,r){null==r?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}(t,r,e,n):St(t,xt[e]||e,n)}var l;return n}function qt(e){const n=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),t.registry&&!t.done&&(t.done=!0,document.querySelectorAll("[id^=pl-]").forEach((t=>{for(;t&&8!==t.nodeType&&t.nodeValue!=="pl-"+e;){let e=t.nextSibling;t.remove(),t=e}t&&t.remove()})));r;){const t=r[n];if(t&&!r.disabled){const o=r[`${n}Data`];if(void 0!==o?t.call(r,o,e):t.call(r,e),e.cancelBubble)return}r=r.o||r.parentNode||r.host}}function Nt(e,n,r,o,i){for(t.context&&!r&&(r=[...e.childNodes]);"function"==typeof r;)r=r();if(n===r)return r;const a=typeof n,s=void 0!==o;if(e=s&&r[0]&&r[0].parentNode||e,"string"===a||"number"===a){if(t.context)return r;if("number"===a&&(n=n.toString()),s){let t=r[0];t&&3===t.nodeType?t.data=n:t=document.createTextNode(n),r=Dt(e,r,o,t)}else r=""!==r&&"string"==typeof r?e.firstChild.data=n:e.textContent=n}else if(null==n||"boolean"===a){if(t.context)return r;r=Dt(e,r,o)}else{if("function"===a)return k((()=>{let t=n();for(;"function"==typeof t;)t=t();r=Nt(e,t,r,o)})),()=>r;if(Array.isArray(n)){const a=[],c=r&&Array.isArray(r);if(Rt(a,n,r,i))return k((()=>r=Nt(e,a,r,o,!0))),()=>r;if(t.context){if(!a.length)return r;for(let t=0;t<a.length;t++)if(a[t].parentNode)return r=a}if(0===a.length){if(r=Dt(e,r,o),s)return r}else c?0===r.length?Ft(e,a,o):function(t,e,n){let r=n.length,o=e.length,i=r,a=0,s=0,c=e[o-1].nextSibling,l=null;for(;a<o||s<i;)if(e[a]!==n[s]){for(;e[o-1]===n[i-1];)o--,i--;if(o===a){const e=i<r?s?n[s-1].nextSibling:n[i-s]:c;for(;s<i;)t.insertBefore(n[s++],e)}else if(i===s)for(;a<o;)l&&l.has(e[a])||e[a].remove(),a++;else if(e[a]===n[i-1]&&n[s]===e[o-1]){const r=e[--o].nextSibling;t.insertBefore(n[s++],e[a++].nextSibling),t.insertBefore(n[--i],r),e[o]=n[i]}else{if(!l){l=new Map;let t=s;for(;t<i;)l.set(n[t],t++)}const r=l.get(e[a]);if(null!=r)if(s<r&&r<i){let c,u=a,f=1;for(;++u<o&&u<i&&null!=(c=l.get(e[u]))&&c===r+f;)f++;if(f>r-s){const o=e[a];for(;s<r;)t.insertBefore(n[s++],o)}else t.replaceChild(n[s++],e[a++])}else a++;else e[a++].remove()}}else a++,s++}(e,r,a):(r&&Dt(e),Ft(e,a));r=a}else if(n instanceof Node){if(t.context&&n.parentNode)return r=s?[n]:n;if(Array.isArray(r)){if(s)return r=Dt(e,r,o,n);Dt(e,r,null,n)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(n,e.firstChild):e.appendChild(n);r=n}else console.warn("Unrecognized value. Skipped inserting",n)}return r}function Rt(t,e,n,r){let o=!1;for(let i=0,a=e.length;i<a;i++){let a=e[i],s=n&&n[i];if(a instanceof Node)t.push(a);else if(null==a||!0===a||!1===a);else if(Array.isArray(a))o=Rt(t,a,s)||o;else if("function"==typeof a)if(r){for(;"function"==typeof a;)a=a();o=Rt(t,Array.isArray(a)?a:[a],Array.isArray(s)?s:[s])||o}else t.push(a),o=!0;else{const e=String(a);s&&3===s.nodeType&&s.data===e?t.push(s):t.push(document.createTextNode(e))}}return o}function Ft(t,e,n=null){for(let r=0,o=e.length;r<o;r++)t.insertBefore(e[r],n)}function Dt(t,e,n,r){if(void 0===n)return t.textContent="";const o=r||document.createTextNode("");if(e.length){let r=!1;for(let i=e.length-1;i>=0;i--){const a=e[i];if(o!==a){const e=a.parentNode===t;r||i?e&&a.remove():e?t.replaceChild(o,a):t.insertBefore(o,n)}else r=!0}}else t.insertBefore(o,n);return[o]}function Vt(e){const[n,r]=ut(e,["component"]),i=x((()=>n.component));return x((()=>{const e=i();switch(typeof e){case"function":return Object.assign(e,{[o]:!0}),M((()=>e(r)));case"string":const n=Mt.has(e),i=t.context?function(e){let n,r;if(!t.context||!(n=t.registry.get(r=function(){const e=t.context;return`${e.id}${e.count++}`}())))throw t.context&&console.warn("Unable to find DOM nodes for hydration key:",r),new Error("Unrecoverable Hydration Mismatch. No template for key: "+r);return t.completed&&t.completed.add(n),t.registry.delete(r),n}():function(t,e=!1){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}(e,n);return Lt(i,r,n),i}}))}const Ht=/^(?:[a-z0-9]+:)?\/\//i,Ut=/^\/+|\/+$|\s+/g;function Bt(t){const e=t.replace(Ut,"");return e?e.startsWith("?")?e:"/"+e:""}function Yt(t,e,n){if(Ht.test(e))return;const r=Bt(t),o=n&&Bt(n);let i="";return i=o&&"/"!==e.charAt(0)?0!==o.toLowerCase().indexOf(r.toLowerCase())?r+o:o:r,i+Bt(e)||"/"}function Gt(t,e){return Bt(t).replace(/\/*(\*.*)?$/g,"")+Bt(e)}function Kt(t,e){const[n,r]=t.split("/*",2),o=n.split("/").filter(Boolean),i=o.length;return t=>{const n=t.split("/").filter(Boolean),a=n.length-i;if(a<0||a>0&&void 0===r&&!e)return null;const s={path:i?"":"/",params:{}};for(let e=0;e<i;e++){const t=o[e],r=n[e];if(":"===t[0])s.params[t.slice(1)]=r;else if(0!==t.localeCompare(r,void 0,{sensitivity:"base"}))return null;s.path+=`/${r}`}return r&&(s.params[r]=a?n.slice(-a).join("/"):""),s}}function Zt(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce(((t,e)=>t+(e.startsWith(":")?2:3)),r.length-(void 0===n?0:1))}function Wt(t){const e=new Map,n=P();return new Proxy({},{get:(r,o)=>(e.has(o)||function(t,e){const n=u,r=d;u=t,d=null;try{U(e,!0)}catch(o){X(o)}finally{u=n,d=r}}(n,(()=>e.set(o,x((()=>t()[o]))))),e.get(o)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(t())})}const Jt=C(),Qt=C(),Xt=()=>function(t,e){if(null==t)throw new Error("Make sure your app is wrapped in a <Router />");return t}(z(Jt));let te;const ee=()=>te||z(Qt)||Xt().base,ne=()=>Xt().navigatorFactory(),re=()=>Xt().location,oe=t=>{const e=re(),n=x((()=>Kt(t())));return x((()=>n()(e.pathname)))},ie=()=>ee().params;function ae(t,e="",n){const{path:r,component:o,data:i,children:a}=t,s=!a||Array.isArray(a)&&!a.length,c=Gt(e,r),l=s?c:c.split("/*",1)[0];return{originalPath:r,pattern:l,element:o?()=>it(o,{}):()=>{const{element:e}=t;return void 0===e&&n?it(n,{}):e},preload:t.component?o.preload:t.preload,data:i,matcher:Kt(l,!s)}}function se(t,e=0){return{routes:t,score:1e4*Zt(t[t.length-1])-e,matcher(e){const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r],i=o.matcher(e);if(!i)return null;n.unshift({...i,route:o})}return n}}}function ce(t,e="",n,r=[],o=[]){const i=Array.isArray(t)?t:[t];for(let a=0,s=i.length;a<s;a++){const t=i[a];if(t&&"object"==typeof t&&t.hasOwnProperty("path")){const i=ae(t,e,n);if(r.push(i),t.children)ce(t.children,i.pattern,n,r,o);else{const t=se([...r],o.length);o.push(t)}r.pop()}}return r.length?o:o.sort(((t,e)=>e.score-t.score))}function le(t,e,n,r){const{base:o,location:i,navigatorFactory:a}=t,{pattern:s,element:c,preload:l,data:u}=r().route,f=x((()=>r().path)),d=Wt((()=>r().params));l&&l();const h={parent:e,pattern:s,get child(){return n()},path:f,params:d,data:e.data,outlet:c,resolvePath:t=>Yt(o.path(),t,f())};if(u)try{te=h,h.data=u({data:e.data,params:d,location:i,navigate:a(h)})}finally{te=void 0}return h}const ue=jt("<a></a>",2),fe=t=>{const e=Xt(),n=ee(),r=x((()=>ce(t.children,Gt(n.pattern,t.base||""),de))),o=x((()=>function(t,e){for(let n=0,r=t.length;n<r;n++){const r=t[n].matcher(e);if(r)return r}return[]}(r(),e.location.pathname)));e.out&&e.out.matches.push(o().map((({route:t,path:e,params:n})=>({originalPath:t.originalPath,pattern:t.pattern,path:e,params:n}))));const i=[];let a;const s=x(T(o,((t,r,c)=>{let l=r&&t.length===r.length;const u=[];for(let a=0,f=t.length;a<f;a++){const f=r&&r[a],d=t[a];c&&f&&d.route.pattern===f.route.pattern?u[a]=c[a]:(l=!1,i[a]&&i[a](),b((t=>{i[a]=t,u[a]=le(e,u[a-1]||n,(()=>s()[a+1]),(()=>o()[a]))})))}return i.splice(t.length).forEach((t=>t())),c&&l?c:(a=u[0],u)})));return it(vt,{get when(){return s()&&a},children:t=>it(Qt.Provider,{value:t,get children(){return t.outlet()}})})},de=()=>{const t=ee();return it(vt,{get when(){return t.child},children:t=>it(Qt.Provider,{value:t,get children(){return t.outlet()}})})};function he(t){const[,e]=ut(t,["children","to","href","state"]),n=(e=>{const n=Xt();return x((()=>{const e=t.to;return void 0!==e?n.renderPath(e):e}))})();return(()=>{const r=ue.cloneNode(!0);return Lt(r,e,!1,!0),Ct(r,(()=>t.children)),k((e=>{const o=n()||t.href,i=JSON.stringify(t.state);return o!==e.i&&St(r,"href",e.i=o),i!==e.l&&St(r,"state",e.l=i),e}),{i:void 0,l:void 0}),r})()}function ve(t){t=lt({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=ut(t,["activeClass","inactiveClass","end"]),n=re(),r=(e=>{const n=ee();return x((()=>n.resolvePath(t.href)))})(),o=x((()=>{const e=r();if(void 0===e)return!1;const o=e.split(/[?#]/,1)[0].toLowerCase(),i=n.pathname.toLowerCase();return t.end?o===i:i.startsWith(o)}));return it(he,lt(e,{get to(){return r()},get classList(){return{[t.inactiveClass]:!o(),[t.activeClass]:o()}},get"aria-current"(){return o()?"page":void 0}}))}function pe(t){const e=ne(),n=re(),{href:r,state:o}=t;return e("function"==typeof r?r({navigate:e,location:n}):r,{replace:!0,state:o}),null}const we=Symbol("store-raw"),me=Symbol("store-node"),be=Symbol("store-name");function ye(t,e){let r=t[n];if(!r&&(Object.defineProperty(t,n,{value:r=new Proxy(t,Me)}),!Array.isArray(t))){const e=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let o=0,i=e.length;o<i;o++){const i=e[o];n[i].get&&Object.defineProperty(t,i,{enumerable:n[i].enumerable,get:n[i].get.bind(r)})}}return r}function ge(t){let e;return null!=t&&"object"==typeof t&&(t[n]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ke(t,e=new Set){let n,r,o,i;if(n=null!=t&&t[we])return n;if(!ge(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let n=0,i=t.length;n<i;n++)o=t[n],(r=ke(o,e))!==o&&(t[n]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const n=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let s=0,c=n.length;s<c;s++)i=n[s],a[i].get||(o=t[i],(r=ke(o,e))!==o&&(t[i]=r))}return t}function _e(t){let e=t[me];return e||Object.defineProperty(t,me,{value:e={}}),e}function xe(t,e,n){return t[e]||(t[e]=$e(n))}function Ae(t){if(I()){const e=_e(t);(e.u||(e.u=$e()))()}}function $e(t){const[e,n]=y(t,{equals:!1,internal:!0});return e.$=n,e}const Me={get(t,e,o){if(e===we)return t;if(e===n)return o;if(e===r)return Ae(t),o;const i=_e(t),a=i.hasOwnProperty(e);let s=a?i[e]():t[e];if(e===me||"__proto__"===e)return s;if(!a){const n=Object.getOwnPropertyDescriptor(t,e);!I()||"function"==typeof s&&!t.hasOwnProperty(e)||n&&n.get||(s=xe(i,e,s)())}return ge(s)?ye(s):s},has(t,e){return e===we||e===n||e===r||e===me||"__proto__"===e||(this.get(t,e,t),e in t)},set:()=>!0,deleteProperty:()=>!0,ownKeys:function(t){return Ae(t),Reflect.ownKeys(t)},getOwnPropertyDescriptor:function(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return r&&!r.get&&r.configurable&&e!==n&&e!==me&&e!==be?(delete r.value,delete r.writable,r.get=()=>t[n][e],r):r}};function Te(t,e,n,r=!1){if(!r&&t[e]===n)return;const o=t[e],i=t.length;void 0===n?delete t[e]:t[e]=n;let a,s=_e(t);(a=xe(s,e,o))&&a.$((()=>n)),Array.isArray(t)&&t.length!==i&&(a=xe(s,"length",i))&&a.$(t.length),(a=s.u)&&a.$()}function je(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];Te(t,o,e[o])}}function Oe(t,e,n=[]){let r,o=t;if(e.length>1){r=e.shift();const i=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let o=0;o<r.length;o++)Oe(t,[r[o]].concat(e),n);return}if(a&&"function"===i){for(let o=0;o<t.length;o++)r(t[o],o)&&Oe(t,[o].concat(e),n);return}if(a&&"object"===i){const{from:o=0,to:i=t.length-1,by:a=1}=r;for(let r=o;r<=i;r+=a)Oe(t,[r].concat(e),n);return}if(e.length>1)return void Oe(t[r],e,[r].concat(n));o=t[r],n=[r].concat(n)}let i=e[0];"function"==typeof i&&(i=i(o,n),i===o)||void 0===r&&null==i||(i=ke(i),void 0===r||ge(o)&&ge(i)&&!Array.isArray(i)?je(o,i):Te(t,r,i))}function Se(...[t,e]){const n=ke(t||{}),r=Array.isArray(n);return[ye(n),function(...t){$((()=>{r&&1===t.length?function(t,e){if("function"==typeof e&&(e=e(t)),e=ke(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const r=e[n];t[n]!==r&&Te(t,n,r)}Te(t,"length",r)}else je(t,e)}(n,t[0]):Oe(n,t)}))}]}const Ie=new WeakMap,Pe={get(t,e){if(e===we)return t;const n=t[e];let r;return ge(n)?Ie.get(n)||(Ie.set(n,r=new Proxy(n,Pe)),r):n},set:(t,e,n)=>(Te(t,e,ke(n)),!0),deleteProperty:(t,e)=>(Te(t,e,void 0,!0),!0)};function Le(t){return e=>{if(ge(e)){let n;(n=Ie.get(e))||Ie.set(e,n=new Proxy(e,Pe)),t(n)}return e}}const Ce=C();var ze="na -q -t va",Ee="wa F Q -a x xa";const qe=t=>t.matches(":focus-within"),Ne=t=>{const e=window.matchMedia(t),[n,r]=y(e.matches),o=t=>{r(t.matches)};return e.addEventListener("change",o),O((()=>{e.removeEventListener("change",o)})),n},Re=(t,e)=>{let n;return function(...r){clearTimeout(n),n=window.setTimeout((()=>t.apply(this,r)),e)}},Fe=t=>`${t<10?"0":""}${t}`,De=t=>{if("number"!=typeof t||!Number.isFinite(t)||t<0)return"--:--";const e=Math.floor(t/60/60),n=Math.floor(t%3600/60),r=Math.floor(t%3600%60),o=[Fe(n),Fe(r)];return e&&o.unshift(e),o.join(":")},Ve=(t,e,n)=>{if(e<0||e>t.length||n<0||n>t.length)return t;const r=t[e];return t[e]=t[n],t[n]=r,t},He=(t,e=0)=>{const n=[...t];let r=t.length;if(r<1)return n;for(e>0&&Ve(n,0,e);1!==r;){r-=1;const t=Math.floor(Math.random()*r+1);Ve(n,r,t)}return n},Ue=(t,e)=>t.sort(((t,n)=>{const r=t[e],o=n[e];if(r&&o){if("number"==typeof r&&"number"==typeof o)return r-o;let t,e;if("string"==typeof r&&"string"==typeof o)t=r,e=o;else{if(!Array.isArray(r)||!Array.isArray(o))return 0;t=r.join(" "),e=o.join(" ")}const n=t.toLowerCase(),i=e.toLowerCase();if(n<i)return-1;if(n>i)return 1}return r?-1:o?1:0})),Be=t=>new Promise((e=>{setTimeout(e,t)})),Ye=(t,e)=>{const n=Object.entries(e);var r;(r=t,Array.isArray(r)?r:[r]).forEach((t=>n.forEach((([e,n])=>{t.style.setProperty(e,void 0===n?"":`${n}`)}))))},Ge=new WeakMap,Ke=(t,e,n)=>{const r=t.composedPath()[0];r.classList.add(n),Ge.get(r)||(Be(e).then((()=>{r.classList.remove(n),Ge.delete(r)})),Ge.set(r,!0))},Ze=(t,e=!1)=>e?[...t].reverse():t,We=(...t)=>{let e="";for(const n of t)n&&(e+=` ${n}`);return e},Je=new Intl.PluralRules("en-US"),Qe=(t,e)=>{switch(Je.select(t)){case"one":default:return e;case"other":return`${e}s`}},Xe=()=>Ne("(prefers-reduced-motion: reduce)"),tn=()=>Ne("(prefers-color-scheme: dark)"),en=(t,e)=>{const n=new ResizeObserver((([t])=>{e(t)}));_((()=>{const e=t();n.observe(e),O((()=>n.unobserve(e)))}))},nn=navigator.userAgentData?navigator.userAgentData.mobile:/Android|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent),rn=(t,e,n)=>t.animate({opacity:Ze([0,1],e)},n),on={ENTER:"Enter",ESC:"Escape",SPACE:"Space",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",P:"KeyP",N:"KeyN",M:"KeyM",T:"KeyT"},an=jt('<div role="list" tabindex="-1"></div>',2),sn=t=>{let e;const n=E((()=>t.children));k((()=>{n().forEach(((t,e)=>t.setAttribute("tabindex",0===e?"0":"-1")))}));const r=t=>e.querySelector(`.ya > ${t}`),o=(t,e)=>{const n=r(e);return n&&(n.tabIndex=t),n},i=t=>{const{code:n}=t,o=n===on.ARROW_DOWN;if(o||n===on.ARROW_UP){let t;if(e.matches(":focus"))t=r(o?":first-child":":last-child");else{const e=r(":focus-within");t=o?null==e?void 0:e.nextElementSibling:null==e?void 0:e.previousElementSibling}t instanceof HTMLElement&&t.focus()}else{if(n!==on.ENTER)return;if(!(t=>{const e=(t=>t.querySelector(":focus"))(t);return!!e&&(e.click(),!0)})(e))return}t.preventDefault()},a=()=>{o(-1,'[tabindex="0"]:not(:focus-within)'),o(0,":focus-within")},s=()=>{o(-1,'[tabindex="0"]:not(:focus-within)'),queueMicrotask((()=>{qe(e)||o(0,":first-child")}))};return(()=>{const r=an.cloneNode(!0);var o;return r.$$focusout=s,r.$$focusin=a,r.$$keydown=i,e=o=r,"function"==typeof t.ref&&t.ref(o),Lt(r,t,!1,!0),Ct(r,n),k((()=>r.className=We("ya",t.class))),r})()};Ot(["keydown","focusin","focusout"]);var cn="-P i -w -S -V Aa";const ln=jt("<div></div>",2),un=jt("<focus-trap></focus-trap>",2),fn=jt('<div tabindex="-1"></div>',2),dn=jt('<div role="menuitem"></div>',2),hn=C(),vn=()=>z(hn);Ot(["keydown","focusout","click"]);let pn=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),"");const wn="showDirectoryPicker"in globalThis,mn=async(t,e)=>{let n=[];for await(const r of t.values())"file"===r.kind?e.some((t=>r.name.endsWith(`.${t}`)))&&n.push(r):"directory"===r.kind&&(n=[...n,...await mn(r,e)]);return n},bn=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),yn={},gn=function(t,e){return e&&0!==e.length?Promise.all(e.map((t=>{if((t=`/pwa-audiobook-player/${t}`)in yn)return;yn[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":bn,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((e,n)=>{r.addEventListener("load",e),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t())):t()},kn={TRACK:0,ALBUM:1,ARTIST:2,PLAYLIST:3},_n="favorites--Z5jdHi6B-myT",xn="<unknown>";function An(t,e,n,r=20,o=0){let i=[];if(o>=r)return i;const a=t=>{const i=t.assignedNodes().filter((t=>1===t.nodeType));return i.length>0?An(i[0].parentElement,e,n,r,o+1):[]},s=Array.from(t.children||[]);for(const c of s)e(c)||(n(c)&&i.push(c),null!=c.shadowRoot?i.push(...An(c.shadowRoot,e,n,r,o+1)):"SLOT"===c.tagName?i.push(...a(c)):i.push(...An(c,e,n,r,o+1)));return i}function $n(t){return t.hasAttribute("hidden")||t.hasAttribute("aria-hidden")&&"false"!==t.getAttribute("aria-hidden")||"none"===t.style.display||"0"===t.style.opacity||"hidden"===t.style.visibility||"collapse"===t.style.visibility}function Mn(t){return"-1"!==t.getAttribute("tabindex")&&!$n(t)&&!function(t){return t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&"false"!==t.getAttribute("aria-disabled")}(t)&&(t.hasAttribute("tabindex")||(t instanceof HTMLAnchorElement||t instanceof HTMLAreaElement)&&t.hasAttribute("href")||t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t instanceof HTMLIFrameElement)}const Tn=new Map,jn=document.createElement("template");jn.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class On extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this.h=!1;const t=this.attachShadow({mode:"open"});t.appendChild(jn.content.cloneNode(!0)),this.$backup=t.querySelector("#backup"),this.$start=t.querySelector("#start"),this.$end=t.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(t){t?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this.h}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return An(this,$n,Mn)}trapFocus(t){if(this.inactive)return;let e=this.getFocusableElements();e.length>0?(t?e[e.length-1].focus():e[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(t){!function(t,e,n){const r=Tn.get(n);null!=r&&window.clearTimeout(r),Tn.set(n,window.setTimeout((()=>{t(),Tn.delete(n)}),0))}((()=>{this.focused!==t&&(this.h=t,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}window.customElements.define("focus-trap",On);const Sn=jt('<svg viewBox="0 0 66 66"><circle cx="33" cy="33" r="30"></circle></svg>',4),In=t=>(()=>{const e=Sn.cloneNode(!0),n=e.firstChild;return k((r=>{const o=We("Ca",t.class),i="Da";return o!==r.i&&St(e,"class",r.i=o),i!==r.l&&St(n,"class",r.l=i),r}),{i:void 0,l:void 0}),e})(),[Pn,Ln]=Se([]),Cn=(()=>{const t=t=>{let{id:e}=t;const n=void 0!==e?Pn.findIndex((t=>t.id===e)):-1;if(-1===n){e=e||pn();const n={...t,id:e};Ln((t=>[...t,n]))}else Ln(n,t);return e};return t.dismiss=t=>{Ln((e=>e.filter((e=>e.id!==t))))},t})(),zn=jt("<div><div></div><div></div></div>",6),En=jt("<button></button>",2),qn={title:"Dismiss"},Nn=t=>{const e=()=>Cn.dismiss(t.id);return _((()=>{const n=t.duration;M((()=>{!1!==n&&setTimeout(e,null!=n?n:8e3)}))})),(()=>{const n=zn.cloneNode(!0),r=n.firstChild,o=r.nextSibling;return Ct(r,(()=>t.message)),Ct(o,it(pt,{get children(){return[it(wt,{get when(){return"spinner"===t.controls},get children(){return it(In,{get class(){return"Ga"}})}}),it(wt,{get when(){return!1!==t.controls},get children(){return it(dt,{get each(){return t.controls||[qn]},children:t=>(()=>{const n=En.cloneNode(!0);return n.$$click=()=>{var n;null==(n=t.action)||n.call(t),e()},Ct(n,(()=>t.title)),k((()=>n.className="na F Q -a -Y oa ta l ua Ia")),n})()})}})]}})),k((t=>{const e="-B -J -F k -S da z Ea",i="-h -l Fa",a="ka Ha";return e!==t.i&&(n.className=t.i=e),i!==t.l&&(r.className=t.l=i),a!==t.v&&(o.className=t.v=a),t}),{i:void 0,l:void 0,v:void 0}),n})()},Rn=()=>it(dt,{each:Pn,children:t=>it(Nn,t)});Ot(["click"]);var Fn=function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},Dn=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t};function Vn(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+="\n\n"+t.mark.snippet),r+" "+n):r}function Hn(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Vn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Hn.prototype=Object.create(Error.prototype),Hn.prototype.constructor=Hn,Hn.prototype.toString=function(t){return this.name+": "+Vn(this,t)};var Un=Hn;function Bn(t,e,n,r,o){var i="",a="",s=Math.floor(o/2)-1;return r-e>s&&(e=r-s+(i=" ... ").length),n-r>s&&(n=r+s-(a=" ...").length),{str:i+t.slice(e,n).replace(/\t/g,"â†’")+a,pos:r-e+i.length}}function Yn(t,e){return Fn(" ",e-t.length)+t}var Gn=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Kn=["scalar","sequence","mapping"],Zn=function(t,e){var n,r;if(e=e||{},Object.keys(e).forEach((function(e){if(-1===Gn.indexOf(e))throw new Un('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=(n=e.styleAliases||null,r={},null!==n&&Object.keys(n).forEach((function(t){n[t].forEach((function(e){r[String(e)]=t}))})),r),-1===Kn.indexOf(this.kind))throw new Un('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function Wn(t,e){var n=[];return t[e].forEach((function(t){var e=n.length;n.forEach((function(n,r){n.tag===t.tag&&n.kind===t.kind&&n.multi===t.multi&&(e=r)})),n[e]=t})),n}function Jn(t){return this.extend(t)}Jn.prototype.extend=function(t){var e=[],n=[];if(t instanceof Zn)n.push(t);else if(Array.isArray(t))n=n.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new Un("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit))}e.forEach((function(t){if(!(t instanceof Zn))throw new Un("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new Un("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new Un("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(t){if(!(t instanceof Zn))throw new Un("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(Jn.prototype);return r.implicit=(this.implicit||[]).concat(e),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=Wn(r,"implicit"),r.compiledExplicit=Wn(r,"explicit"),r.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(t){t.multi?(n.multi[t.kind].push(t),n.multi.fallback.push(t)):n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var Qn=new Jn({explicit:[new Zn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),new Zn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),new Zn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})]}),Xn=new Zn("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),tr=new Zn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function er(t){return 48<=t&&t<=55}function nr(t){return 48<=t&&t<=57}var rr=new Zn("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,o=0,i=!1;if(!r)return!1;if("-"!==(e=t[o])&&"+"!==e||(e=t[++o]),"0"===e){if(o+1===r)return!0;if("b"===(e=t[++o])){for(o++;o<r;o++)if("_"!==(e=t[o])){if("0"!==e&&"1"!==e)return!1;i=!0}return i&&"_"!==e}if("x"===e){for(o++;o<r;o++)if("_"!==(e=t[o])){if(!(48<=(n=t.charCodeAt(o))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;i=!0}return i&&"_"!==e}if("o"===e){for(o++;o<r;o++)if("_"!==(e=t[o])){if(!er(t.charCodeAt(o)))return!1;i=!0}return i&&"_"!==e}}if("_"===e)return!1;for(;o<r;o++)if("_"!==(e=t[o])){if(!nr(t.charCodeAt(o)))return!1;i=!0}return!(!i||"_"===e)},construct:function(t){var e,n=t,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(r=-1),e=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===e){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!Dn(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),or=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),ir=/^[-+]?[0-9]+e/,ar=new Zn("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!or.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||Dn(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Dn(t))return"-0.0";return n=t.toString(10),ir.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),sr=Qn.extend({implicit:[Xn,tr,rr,ar]}),cr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),lr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),ur=new Zn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==cr.exec(t)||null!==lr.exec(t))},construct:function(t){var e,n,r,o,i,a,s,c,l=0,u=null;if(null===(e=cr.exec(t))&&(e=lr.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,r,o));if(i=+e[4],a=+e[5],s=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(u=-u)),c=new Date(Date.UTC(n,r,o,i,a,s,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(t){return t.toISOString()}}),fr=new Zn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",hr=new Zn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,o=t.length,i=dr;for(n=0;n<o;n++)if(!((e=i.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),o=r.length,i=dr,a=0,s=[];for(e=0;e<o;e++)e%4==0&&e&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|i.indexOf(r.charAt(e));return 0==(n=o%4*6)?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):18===n?(s.push(a>>10&255),s.push(a>>2&255)):12===n&&s.push(a>>4&255),new Uint8Array(s)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var e,n,r="",o=0,i=t.length,a=dr;for(e=0;e<i;e++)e%3==0&&e&&(r+=a[o>>18&63],r+=a[o>>12&63],r+=a[o>>6&63],r+=a[63&o]),o=(o<<8)+t[e];return 0==(n=i%3)?(r+=a[o>>18&63],r+=a[o>>12&63],r+=a[o>>6&63],r+=a[63&o]):2===n?(r+=a[o>>10&63],r+=a[o>>4&63],r+=a[o<<2&63],r+=a[64]):1===n&&(r+=a[o>>2&63],r+=a[o<<4&63],r+=a[64],r+=a[64]),r}}),vr=Object.prototype.hasOwnProperty,pr=Object.prototype.toString,wr=new Zn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,i,a=[],s=t;for(e=0,n=s.length;e<n;e+=1){if(r=s[e],i=!1,"[object Object]"!==pr.call(r))return!1;for(o in r)if(vr.call(r,o)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==a.indexOf(o))return!1;a.push(o)}return!0},construct:function(t){return null!==t?t:[]}}),mr=Object.prototype.toString,br=new Zn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,i,a=t;for(i=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],"[object Object]"!==mr.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;i[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,o,i,a=t;for(i=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],o=Object.keys(r),i[e]=[o[0],r[o[0]]];return i}}),yr=Object.prototype.hasOwnProperty,gr=new Zn("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(yr.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}}),kr=sr.extend({implicit:[ur,fr],explicit:[hr,wr,br,gr]}),_r=Object.prototype.hasOwnProperty,xr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ar=/[\x85\u2028\u2029]/,$r=/[,\[\]\{\}]/,Mr=/^(?:!|!!|![a-z\-]+!)$/i,Tr=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function jr(t){return Object.prototype.toString.call(t)}function Or(t){return 10===t||13===t}function Sr(t){return 9===t||32===t}function Ir(t){return 9===t||32===t||10===t||13===t}function Pr(t){return 44===t||91===t||93===t||123===t||125===t}function Lr(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function Cr(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"Â…":95===t?"Â ":76===t?"\u2028":80===t?"\u2029":""}function zr(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var Er=new Array(256),qr=new Array(256),Nr=0;Nr<256;Nr++)Er[Nr]=Cr(Nr)?1:0,qr[Nr]=Cr(Nr);function Rr(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||kr,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Fr(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=function(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,o=[0],i=[],a=-1;n=r.exec(t.buffer);)i.push(n.index),o.push(n.index+n[0].length),t.position<=n.index&&a<0&&(a=o.length-2);a<0&&(a=o.length-1);var s,c,l="",u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(s=1;s<=e.linesBefore&&!(a-s<0);s++)c=Bn(t.buffer,o[a-s],i[a-s],t.position-(o[a]-o[a-s]),f),l=Fn(" ",e.indent)+Yn((t.line-s+1).toString(),u)+" | "+c.str+"\n"+l;for(c=Bn(t.buffer,o[a],i[a],t.position,f),l+=Fn(" ",e.indent)+Yn((t.line+1).toString(),u)+" | "+c.str+"\n",l+=Fn("-",e.indent+u+3+c.pos)+"^\n",s=1;s<=e.linesAfter&&!(a+s>=i.length);s++)c=Bn(t.buffer,o[a+s],i[a+s],t.position-(o[a]-o[a+s]),f),l+=Fn(" ",e.indent)+Yn((t.line+s+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")}(n),new Un(e,n)}function Dr(t,e){throw Fr(t,e)}function Vr(t,e){t.onWarning&&t.onWarning.call(null,Fr(t,e))}var Hr={YAML:function(t,e,n){var r,o,i;null!==t.version&&Dr(t,"duplication of %YAML directive"),1!==n.length&&Dr(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Dr(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),i=parseInt(r[2],10),1!==o&&Dr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=i<2,1!==i&&2!==i&&Vr(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,o;2!==n.length&&Dr(t,"TAG directive accepts exactly two arguments"),r=n[0],o=n[1],Mr.test(r)||Dr(t,"ill-formed tag handle (first argument) of the TAG directive"),_r.call(t.tagMap,r)&&Dr(t,'there is a previously declared suffix for "'+r+'" tag handle'),Tr.test(o)||Dr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(i){Dr(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function Ur(t,e,n,r){var o,i,a,s;if(e<n){if(s=t.input.slice(e,n),r)for(o=0,i=s.length;o<i;o+=1)9===(a=s.charCodeAt(o))||32<=a&&a<=1114111||Dr(t,"expected valid JSON character");else xr.test(s)&&Dr(t,"the stream contains non-printable characters");t.result+=s}}function Br(t,e,n,r){var o,i,a,s,c;for("object"==typeof(c=n)&&null!==c||Dr(t,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(o=Object.keys(n)).length;a<s;a+=1)i=o[a],_r.call(e,i)||(e[i]=n[i],r[i]=!0)}function Yr(t,e,n,r,o,i,a,s,c){var l,u;if(Array.isArray(o))for(l=0,u=(o=Array.prototype.slice.call(o)).length;l<u;l+=1)Array.isArray(o[l])&&Dr(t,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===jr(o[l])&&(o[l]="[object Object]");if("object"==typeof o&&"[object Object]"===jr(o)&&(o="[object Object]"),o=String(o),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)Br(t,e,i[l],n);else Br(t,e,i,n);else t.json||_r.call(n,o)||!_r.call(e,o)||(t.line=a||t.line,t.lineStart=s||t.lineStart,t.position=c||t.position,Dr(t,"duplicated mapping key")),"__proto__"===o?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):e[o]=i,delete n[o];return e}function Gr(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):Dr(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Kr(t,e,n){for(var r=0,o=t.input.charCodeAt(t.position);0!==o;){for(;Sr(o);)9===o&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&35===o)do{o=t.input.charCodeAt(++t.position)}while(10!==o&&13!==o&&0!==o);if(!Or(o))break;for(Gr(t),o=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&Vr(t,"deficient indentation"),r}function Zr(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!Ir(e)))}function Wr(t,e){1===e?t.result+=" ":e>1&&(t.result+=Fn("\n",e-1))}function Jr(t,e){var n,r,o=t.tag,i=t.anchor,a=[],s=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=a),r=t.input.charCodeAt(t.position);0!==r&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,Dr(t,"tab characters must not be used in indentation")),45===r)&&Ir(t.input.charCodeAt(t.position+1));)if(s=!0,t.position++,Kr(t,!0,-1)&&t.lineIndent<=e)a.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,to(t,e,3,!1,!0),a.push(t.result),Kr(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)Dr(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!s&&(t.tag=o,t.anchor=i,t.kind="sequence",t.result=a,!0)}function Qr(t){var e,n,r,o,i=!1,a=!1;if(33!==(o=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&Dr(t,"duplication of a tag property"),60===(o=t.input.charCodeAt(++t.position))?(i=!0,o=t.input.charCodeAt(++t.position)):33===o?(a=!0,n="!!",o=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&62!==o);t.position<t.length?(r=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Dr(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!Ir(o);)33===o&&(a?Dr(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Mr.test(n)||Dr(t,"named tag handle cannot contain such characters"),a=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),$r.test(r)&&Dr(t,"tag suffix cannot contain flow indicator characters")}r&&!Tr.test(r)&&Dr(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(s){Dr(t,"tag name is malformed: "+r)}return i?t.tag=r:_r.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:Dr(t,'undeclared tag handle "'+n+'"'),!0}function Xr(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&Dr(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Ir(n)&&!Pr(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Dr(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function to(t,e,n,r,o){var i,a,s,c,l,u,f,d,h,v=1,p=!1,w=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,i=a=s=4===n||3===n,r&&Kr(t,!0,-1)&&(p=!0,t.lineIndent>e?v=1:t.lineIndent===e?v=0:t.lineIndent<e&&(v=-1)),1===v)for(;Qr(t)||Xr(t);)Kr(t,!0,-1)?(p=!0,s=i,t.lineIndent>e?v=1:t.lineIndent===e?v=0:t.lineIndent<e&&(v=-1)):s=!1;if(s&&(s=p||o),1!==v&&4!==n||(d=1===n||2===n?e:e+1,h=t.position-t.lineStart,1===v?s&&(Jr(t,h)||function(t,e,n){var r,o,i,a,s,c,l,u=t.tag,f=t.anchor,d={},h=Object.create(null),v=null,p=null,w=null,m=!1,b=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=d),l=t.input.charCodeAt(t.position);0!==l;){if(m||-1===t.firstTabInLine||(t.position=t.firstTabInLine,Dr(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),i=t.line,63!==l&&58!==l||!Ir(r)){if(a=t.line,s=t.lineStart,c=t.position,!to(t,n,2,!1,!0))break;if(t.line===i){for(l=t.input.charCodeAt(t.position);Sr(l);)l=t.input.charCodeAt(++t.position);if(58===l)Ir(l=t.input.charCodeAt(++t.position))||Dr(t,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(Yr(t,d,h,v,p,null,a,s,c),v=p=w=null),b=!0,m=!1,o=!1,v=t.tag,p=t.result;else{if(!b)return t.tag=u,t.anchor=f,!0;Dr(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return t.tag=u,t.anchor=f,!0;Dr(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(m&&(Yr(t,d,h,v,p,null,a,s,c),v=p=w=null),b=!0,m=!0,o=!0):m?(m=!1,o=!0):Dr(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,l=r;if((t.line===i||t.lineIndent>e)&&(m&&(a=t.line,s=t.lineStart,c=t.position),to(t,e,4,!0,o)&&(m?p=t.result:w=t.result),m||(Yr(t,d,h,v,p,w,a,s,c),v=p=w=null),Kr(t,!0,-1),l=t.input.charCodeAt(t.position)),(t.line===i||t.lineIndent>e)&&0!==l)Dr(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return m&&Yr(t,d,h,v,p,null,a,s,c),b&&(t.tag=u,t.anchor=f,t.kind="mapping",t.result=d),b}(t,h,d))||function(t,e){var n,r,o,i,a,s,c,l,u,f,d,h,v=!0,p=t.tag,w=t.anchor,m=Object.create(null);if(91===(h=t.input.charCodeAt(t.position)))a=93,l=!1,i=[];else{if(123!==h)return!1;a=125,l=!0,i={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=i),h=t.input.charCodeAt(++t.position);0!==h;){if(Kr(t,!0,e),(h=t.input.charCodeAt(t.position))===a)return t.position++,t.tag=p,t.anchor=w,t.kind=l?"mapping":"sequence",t.result=i,!0;v?44===h&&Dr(t,"expected the node content, but found ','"):Dr(t,"missed comma between flow collection entries"),d=null,s=c=!1,63===h&&Ir(t.input.charCodeAt(t.position+1))&&(s=c=!0,t.position++,Kr(t,!0,e)),n=t.line,r=t.lineStart,o=t.position,to(t,e,1,!1,!0),f=t.tag,u=t.result,Kr(t,!0,e),h=t.input.charCodeAt(t.position),!c&&t.line!==n||58!==h||(s=!0,h=t.input.charCodeAt(++t.position),Kr(t,!0,e),to(t,e,1,!1,!0),d=t.result),l?Yr(t,i,m,f,u,d,n,r,o):s?i.push(Yr(t,null,m,f,u,d,n,r,o)):i.push(u),Kr(t,!0,e),44===(h=t.input.charCodeAt(t.position))?(v=!0,h=t.input.charCodeAt(++t.position)):v=!1}Dr(t,"unexpected end of the stream within a flow collection")}(t,d)?w=!0:(a&&function(t,e){var n,r,o,i,a,s=1,c=!1,l=!1,u=e,f=0,d=!1;if(124===(i=t.input.charCodeAt(t.position)))r=!1;else{if(62!==i)return!1;r=!0}for(t.kind="scalar",t.result="";0!==i;)if(43===(i=t.input.charCodeAt(++t.position))||45===i)1===s?s=43===i?3:2:Dr(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=i)&&a<=57?a-48:-1)>=0))break;0===o?Dr(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Dr(t,"repeat of an indentation width identifier"):(u=e+o-1,l=!0)}if(Sr(i)){do{i=t.input.charCodeAt(++t.position)}while(Sr(i));if(35===i)do{i=t.input.charCodeAt(++t.position)}while(!Or(i)&&0!==i)}for(;0!==i;){for(Gr(t),t.lineIndent=0,i=t.input.charCodeAt(t.position);(!l||t.lineIndent<u)&&32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>u&&(u=t.lineIndent),Or(i))f++;else{if(t.lineIndent<u){3===s?t.result+=Fn("\n",c?1+f:f):1===s&&c&&(t.result+="\n");break}for(r?Sr(i)?(d=!0,t.result+=Fn("\n",c?1+f:f)):d?(d=!1,t.result+=Fn("\n",f+1)):0===f?c&&(t.result+=" "):t.result+=Fn("\n",f):t.result+=Fn("\n",c?1+f:f),c=!0,l=!0,f=0,n=t.position;!Or(i)&&0!==i;)i=t.input.charCodeAt(++t.position);Ur(t,n,t.position,!1)}}return!0}(t,d)||function(t,e){var n,r,o;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=o=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(Ur(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,o=t.position}else Or(n)?(Ur(t,r,o,!0),Wr(t,Kr(t,!1,e)),r=o=t.position):t.position===t.lineStart&&Zr(t)?Dr(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);Dr(t,"unexpected end of the stream within a single quoted scalar")}(t,d)||function(t,e){var n,r,o,i,a,s,c;if(34!==(s=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(s=t.input.charCodeAt(t.position));){if(34===s)return Ur(t,n,t.position,!0),t.position++,!0;if(92===s){if(Ur(t,n,t.position,!0),Or(s=t.input.charCodeAt(++t.position)))Kr(t,!1,e);else if(s<256&&Er[s])t.result+=qr[s],t.position++;else if((a=120===(c=s)?2:117===c?4:85===c?8:0)>0){for(o=a,i=0;o>0;o--)(a=Lr(s=t.input.charCodeAt(++t.position)))>=0?i=(i<<4)+a:Dr(t,"expected hexadecimal character");t.result+=zr(i),t.position++}else Dr(t,"unknown escape sequence");n=r=t.position}else Or(s)?(Ur(t,n,r,!0),Wr(t,Kr(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Zr(t)?Dr(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Dr(t,"unexpected end of the stream within a double quoted scalar")}(t,d)?w=!0:function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Ir(r)&&!Pr(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Dr(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),_r.call(t.anchorMap,n)||Dr(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Kr(t,!0,-1),!0}(t)?(w=!0,null===t.tag&&null===t.anchor||Dr(t,"alias node should not have any properties")):function(t,e,n){var r,o,i,a,s,c,l,u,f=t.kind,d=t.result;if(Ir(u=t.input.charCodeAt(t.position))||Pr(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Ir(r=t.input.charCodeAt(t.position+1))||n&&Pr(r)))return!1;for(t.kind="scalar",t.result="",o=i=t.position,a=!1;0!==u;){if(58===u){if(Ir(r=t.input.charCodeAt(t.position+1))||n&&Pr(r))break}else if(35===u){if(Ir(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&Zr(t)||n&&Pr(u))break;if(Or(u)){if(s=t.line,c=t.lineStart,l=t.lineIndent,Kr(t,!1,-1),t.lineIndent>=e){a=!0,u=t.input.charCodeAt(t.position);continue}t.position=i,t.line=s,t.lineStart=c,t.lineIndent=l;break}}a&&(Ur(t,o,i,!1),Wr(t,t.line-s),o=i=t.position,a=!1),Sr(u)||(i=t.position+1),u=t.input.charCodeAt(++t.position)}return Ur(t,o,i,!1),!!t.result||(t.kind=f,t.result=d,!1)}(t,d,1===n)&&(w=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===v&&(w=s&&Jr(t,h))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&Dr(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),c=0,l=t.implicitTypes.length;c<l;c+=1)if((f=t.implicitTypes[c]).resolve(t.result)){t.result=f.construct(t.result),t.tag=f.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(_r.call(t.typeMap[t.kind||"fallback"],t.tag))f=t.typeMap[t.kind||"fallback"][t.tag];else for(f=null,c=0,l=(u=t.typeMap.multi[t.kind||"fallback"]).length;c<l;c+=1)if(t.tag.slice(0,u[c].tag.length)===u[c].tag){f=u[c];break}f||Dr(t,"unknown tag !<"+t.tag+">"),null!==t.result&&f.kind!==t.kind&&Dr(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+f.kind+'", not "'+t.kind+'"'),f.resolve(t.result,t.tag)?(t.result=f.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):Dr(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||w}function eo(t){var e,n,r,o,i=t.position,a=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(o=t.input.charCodeAt(t.position))&&(Kr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==o));){for(a=!0,o=t.input.charCodeAt(++t.position),e=t.position;0!==o&&!Ir(o);)o=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&Dr(t,"directive name must not be less than one character in length");0!==o;){for(;Sr(o);)o=t.input.charCodeAt(++t.position);if(35===o){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&!Or(o));break}if(Or(o))break;for(e=t.position;0!==o&&!Ir(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==o&&Gr(t),_r.call(Hr,n)?Hr[n](t,n,r):Vr(t,'unknown document directive "'+n+'"')}Kr(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Kr(t,!0,-1)):a&&Dr(t,"directives end mark is expected"),to(t,t.lineIndent-1,4,!1,!0),Kr(t,!0,-1),t.checkLineBreaks&&Ar.test(t.input.slice(i,t.position))&&Vr(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Zr(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Kr(t,!0,-1)):t.position<t.length-1&&Dr(t,"end of the stream or a document separator is expected")}var no=function(t,e){var n=function(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new Rr(t,e),r=t.indexOf("\0");for(-1!==r&&(n.position=r,Dr(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)eo(n);return n.documents}(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new Un("expected a single document in the stream, but found more")}};const ro=t=>({type:"url",url:t});var oo={equals:!1},io=new WeakMap,ao=0;function so(t){let e=io.get(t);return e||b((()=>{const o=ke(t);e=function(e){let i=!1,a=!0,s=!1,c=0;const[l,u]=y(void 0,oo),f=x((()=>i?(()=>{var e;t[r];for(const[i,a]of Object.entries(o)){let o;null!=a&&"object"==typeof a&&((o=a[n])||(o=M((()=>t[i])))&&r in o)&&(null==(e=so(o))||e())}})():a=!l()),void 0,{equals:()=>s});return()=>{i=!0,a&&(a=u()),s=c===ao,c=ao,f(),i=!1}}(),io.set(t,e)})),e}function co(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function lo(t,e){const n=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var e=function(){return indexedDB.databases().finally(t)};r=setInterval(e,100),e()})).finally((function(){return clearInterval(r)})):Promise.resolve()).then((()=>{const n=indexedDB.open(t);return n.onupgradeneeded=()=>n.result.createObjectStore(e),co(n)}));var r;return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}let uo;function fo(){return uo||(uo=lo("keyval-store","keyval")),uo}const ho=t=>{const e=t.useStores.map((t=>t()[2])).filter(Boolean).flat(1),{storageName:n,version:o}=t,[i,a]=y(!1),s=`${n}-${o}`,c=lo(s,s);return(async(t,e)=>{const n=window.indexedDB;if("databases"in n){const r=`${t}-${e}`;(await n.databases()).forEach((t=>{t.name!==r&&n.deleteDatabase(t.name)}))}else for(let r=0;r<e;r+=1)n.deleteDatabase(`${t}-${r}`)})(n,o),function(t,e=fo()){return e("readonly",(e=>Promise.all(t.map((t=>co(e.get(t)))))))}(e.map((t=>t.key)),c).then((t=>{t.forEach(((t,n)=>{void 0!==t&&e[n].load(t)}))})).finally((()=>a(!0))),_(T(i,(n=>{var o;if(!n)return;let i=!1;e.forEach((t=>{_((()=>{const e=t.selector();"object"==typeof e&&null!==e&&function(t){var e;ao++,r in t&&(null==(e=so(t))||e())}(t.selector()),i&&function(t,e,n=fo()){n("readwrite",(n=>(n.put(e,t),co(n.transaction))))}(t.key,ke(e),c)}))})),_((()=>{i=!0})),null==(o=t.onLoad)||o.call(t)}))),it(vt,{get when(){return i()},get children(){return t.children}})};function vo(t){const e=C();return[n=>{const r=t();return it(e.Provider,{value:r,get children(){return n.children}})},()=>z(e)]}const[po,wo]=vo((()=>{const[t,e]=Se({tracks:{},albums:{},artists:{},playlists:{},favorites:[]}),n=(t=>{const e=(t,e)=>[...new Set([...t,...e])];return{createNewPlaylist:(e,n=[])=>{const r={type:kn.PLAYLIST,id:pn(),name:e,dateCreated:(new Date).getTime(),trackIds:n};t("playlists",r.id,r)},renamePlaylist:(e,n)=>{t("playlists",e,"name",n)},addTracksToPlaylist:(n,r)=>{t("playlists",n,"trackIds",(t=>e(t,r)))},removeTracksFromPlaylist:(e,n)=>{t("playlists",e,"trackIds",(t=>t.filter((t=>!n.includes(t)))))},favoriteTrack:n=>{t("favorites",(t=>e(t,[n])))},unfavoriteTrack:e=>{t("favorites",(t=>t.filter((t=>t!==e))))}}})(e);(()=>{try{const t=(()=>{const t=(t=>{try{return no('# Osho Content Library\n# This YAML file serves as the source of truth for all Osho content\n\nseries:\n  - id: "osho_hindi_discourses"\n    name: "Hindi Discourses"\n    description: "Osho\'s teachings in Hindi language"\n    year: "1980"\n    image: "/images/series/hindi-discourses.jpg"\n    tracks:\n      - id: "hd_001"\n        name: "Bin Bati Bin Tel - Part 1"\n        duration: 2700  # 45 minutes\n        trackNo: 1\n        audioUrl: "https://archive.org/download/AshtavakraGitaHindiAudiobook/Adhyaay%2001%20to%2002.mp3"\n        description: "Osho\'s wisdom on inner light without external means"\n        topics: ["meditation", "inner light", "spirituality"]\n        \n      - id: "hd_002"\n        name: "Bin Bati Bin Tel - Part 2"\n        duration: 2700  # 45 minutes\n        trackNo: 2\n        audioUrl: "https://archive.org/download/AshtavakraGitaHindiAudiobook/Adhyaay%2001%20to%2002.mp3"\n        description: "Continuing the exploration of inner illumination"\n        topics: ["consciousness", "enlightenment", "truth"]\n\n  - id: "osho_zen_teachings"\n    name: "Zen Teachings"\n    description: "Osho\'s interpretation of Zen philosophy"\n    year: "1985"\n    image: "/images/series/zen-teachings.jpg"\n    tracks:\n      - id: "zt_001"\n        name: "The Way of Zen"\n        duration: 2700  # 45 minutes\n        trackNo: 1\n        audioUrl: "https://archive.org/download/AshtavakraGitaHindiAudiobook/Adhyaay%2001%20to%2002.mp3"\n        description: "Introduction to Zen consciousness and awareness"\n        topics: ["zen", "consciousness", "awareness"]\n        \n      - id: "zt_002"\n        name: "Beyond Mind"\n        duration: 2700  # 45 minutes\n        trackNo: 2\n        audioUrl: "https://archive.org/download/AshtavakraGitaHindiAudiobook/Adhyaay%2001%20to%2002.mp3"\n        description: "Transcending the limitations of the mind"\n        topics: ["meditation", "transcendence", "no-mind"]\n\nstandalone_talks: []\n\ntopics:\n  - id: "meditation"\n    name: "Meditation"\n    description: "Techniques and philosophy of meditation"\n    \n  - id: "zen"\n    name: "Zen"\n    description: "Zen philosophy and practices"\n    \n  - id: "consciousness"\n    name: "Consciousness"\n    description: "Exploration of consciousness and awareness"\n    \n  - id: "spirituality"\n    name: "Spirituality"\n    description: "Spiritual growth and understanding"\n\n# Metadata\nmetadata:\n  appName: "Osho Digital Library"\n  description: "A comprehensive digital library of Osho\'s teachings"\n  version: "1.0.0"\n  lastUpdated: "2024-01-15"\n  totalTracks: 4\n  totalSeries: 2\n  defaultTheme: "zen" ')}catch(e){throw console.error("Error parsing YAML content:",e),new Error("Failed to parse YAML content structure")}})(),e={},n={},r={},o={id:"osho",type:kn.ARTIST,name:"Osho",trackIds:[]};t.series.forEach((t=>{const r=[];t.tracks.forEach((n=>{const i={id:n.id,type:kn.TRACK,name:n.name,album:t.name,artists:["Osho"],year:t.year,duration:n.duration,genre:n.topics,trackNo:n.trackNo,fileWrapper:ro(n.audioUrl),description:n.description,topics:n.topics};e[n.id]=i,r.push(n.id),o.trackIds.push(n.id)}));const i={id:t.id,type:kn.ALBUM,name:t.name,artists:["Osho"],year:t.year,trackIds:r,description:t.description};n[t.id]=i})),t.standalone_talks.forEach((t=>{const n={id:t.id,type:kn.TRACK,name:t.name,album:"Standalone Talks",artists:["Osho"],year:t.year,duration:t.duration,genre:t.topics,trackNo:1,fileWrapper:ro(t.audioUrl),description:t.description,topics:t.topics};e[t.id]=n,o.trackIds.push(t.id)}));const i=t.standalone_talks.map((t=>t.id));return i.length>0&&(n.standalone_talks={id:"standalone_talks",type:kn.ALBUM,name:"Standalone Talks",artists:["Osho"],trackIds:i,description:"Individual talks and discourses"}),r.osho=o,{tracks:e,albums:n,artists:r,playlists:{},favorites:[],metadata:t.metadata}})();$((()=>{e("tracks",t.tracks),e("albums",t.albums),e("artists",t.artists),e("playlists",t.playlists),e("favorites",t.favorites)})),console.log("Static content loaded successfully")}catch(t){console.error("Error loading static content:",t),Cn({message:"Failed to load content library",duration:5e3})}})();const r=n=>{$((()=>{for(const r of n){const n=t.tracks[r];if(n){const t=t=>t.filter((t=>t!==r)),o=["trackIds",t];e("tracks",r,void 0),e("albums",n.album||"<unknown>",...o);for(const r of n.artists||["<unknown>"])e("artists",r,...o);e("favorites",t)}}for(const r of Object.values(t.playlists)){const t=r.trackIds.filter((t=>!n.includes(t)));e("playlists",r.id,"trackIds",t)}}))},o=async(t,e)=>{if("fileRef"===t.type&&"fileRef"===e.type){const n=t.file,r=e.file;return n.name===r.name&&n.isSameEntry(r)}if("file"===t.type&&"file"===e.type){const n=t.file,r=e.file;return n.name===r.name&&n.size===r.size}return!1},i={...n,removeTracks:r,remove:(n,o)=>{const i={[kn.ALBUM]:"albums",[kn.ARTIST]:"artists",[kn.PLAYLIST]:"playlists"}[o];if(e(i,n,void 0),"playlists"!==i){const e=t[i][n].trackIds;r(e)}},importTracks:async()=>{const n=await(async t=>{if(wn)try{const e=await showDirectoryPicker();return(await mn(e,t)).map((t=>({type:"fileRef",file:t})))}catch{return null}const e=document.createElement("input");return e.type="file",nn?(e.accept=t.map((t=>`.${t}`)).join(", "),e.multiple=!0):(e.setAttribute("webkitdirectory",""),e.setAttribute("directory","")),new Promise((n=>{e.addEventListener("change",(e=>{n(((t,e)=>{const{files:n}=t.target;return n?Array.from(n).filter((t=>e.some((e=>t.name.endsWith(`.${e}`))))).map((t=>({type:"file",file:t}))):[]})(e,t))})),Be(100).then((()=>{e.click()}))}))})(["aac","mp3","ogg","wav","flac","m4a","opus"]);if(!n)return;if(n.length<1)return void Cn({message:"Selected directory does not contain any tracks."});const r={id:pn(),duration:!1};Cn({...r,message:"Preparing to import tracks to the library.",controls:!1});try{const i=await(async(t,e)=>{const n=(await gn((()=>import("./tracks-file-parser-worker.9dc4a2d2.js")),[])).default;return new Promise(((r,o)=>{const i=new n;i.addEventListener("error",o),i.addEventListener("message",(({data:t})=>{t.finished?r(t.tracks):e(t.parsedCount)})),i.postMessage(t)}))})(n,(t=>{Cn({...r,message:`Importing tracks to the library. ${t} of ${n.length}`,controls:"spinner"})}));$((()=>{(async n=>{const r=await(async e=>{const n=Object.values(t.tracks),r=[];for await(const t of e){let e=-1,i=0;for await(const r of n){if(await o(t.fileWrapper,r.fileWrapper)){e=i;break}i+=1}-1===e?r.push(t):n.splice(e,1)}return r})(n);e(Le((t=>{var e;for(const i of r){const e=pn();t.tracks[e]={...i,id:e,type:kn.TRACK}}const{albums:n}=t,{artists:o}=t;for(const r of Object.values(t.tracks)){const t=r.artists,i=r.id,a=null!=(e=r.album)?e:"<unknown>",s=n[a]||(n[a]={type:kn.ALBUM,id:a,name:a,artists:[],trackIds:[]});"<unknown>"!==a&&(s.image||(s.image=r.image),s.year||(s.year=r.year)),s.trackIds.includes(i)||s.trackIds.push(i);for(const e of t)s.artists.includes(e)||s.artists.push(e);const c=t.length>0?t:["<unknown>"];for(const e of c){const t=o[e]||(o[e]={type:kn.ARTIST,id:e,name:e,trackIds:[]});t.trackIds.includes(i)||t.trackIds.push(i)}}})))})(i),Cn({...r,message:`Successfully imported or updated ${i.length} tracks to the library.`,duration:8e3,controls:void 0})}))}catch(i){console.error(i),Cn({...r,message:"An unknown error has occurred while importing tracks to the library.",controls:void 0})}},clearData:()=>{Cn({message:"Library cleared"}),e({tracks:{},albums:{},artists:{},playlists:{}})}};return[t,i,[{key:"data-tracks",selector:()=>t.tracks,load:t=>e({tracks:t})},{key:"data-albums",selector:()=>t.albums,load:t=>e({albums:t})},{key:"data-artists",selector:()=>t.artists,load:t=>e({artists:t})},{key:"data-playlists",selector:()=>t.playlists,load:t=>e({playlists:t})},{key:"data-favorites",selector:()=>t.favorites,load:t=>e({favorites:t})}]]})),[mo,bo]=vo((()=>{const[t,e]=Se({sortKeys:{[kn.TRACK]:"name",[kn.ALBUM]:"name",[kn.ARTIST]:"name",[kn.PLAYLIST]:"name"}});return[t,{sort:n=>{e({sortKeys:{...t.sortKeys,[n.type]:n.key}})}},[{key:"library-sort",selector:()=>t.sortKeys,load:t=>e({sortKeys:t})}]]})),[yo,go]=vo((()=>{const[t]=wo(),[e,n]=Se({isPlaying:!1,trackIds:[],originalTrackIds:[],activeTrackIndex:-1,repeat:0,shuffle:!1,currentTime:0,currentTimeChanged:!1,duration:0,isMuted:!1,volume:100,trackTimestamps:{},get activeTrackId(){return o()},get activeTrack(){return i()}}),r=()=>e.trackIds[e.activeTrackIndex],o=x(r),i=x((()=>t.tracks[r()])),a=()=>!!e.activeTrack,s=(t,e)=>{n({originalTrackIds:e,trackIds:He(e,t),activeTrackIndex:0})},c=(t,r)=>{let o;o=r?r[t]:e.trackIds[t];const i=u(o);$((()=>{r?(n({trackIds:[...r]}),e.shuffle?s(t,r):n({activeTrackIndex:t})):n({activeTrackIndex:t}),n({currentTime:i,currentTimeChanged:!0})})),n("isPlaying",!!e.activeTrack)},l=t=>{n(Le((e=>{let n=t;e.shuffle&&(n=He(t),e.originalTrackIds=e.originalTrackIds.concat(t)),e.trackIds=e.trackIds.concat(n)})))},u=t=>e.trackTimestamps[t]||0;return _((()=>{const{tracks:r}=t;M((()=>{const{activeTrackId:t}=e,o=t=>t.filter((t=>r[t]));n("trackIds",o),n("originalTrackIds",o),n("activeTrackIndex",e.trackIds.indexOf(t))}))})),[e,{play:()=>{n({isPlaying:a()})},pause:()=>{n({isPlaying:!1})},playPause:()=>{n({isPlaying:!e.isPlaying&&a()})},playTrack:c,playNextTrack:(t=!1)=>{const{trackIds:r,activeTrackIndex:o}=e,i=r.length;if(!i)return;if(-1===o)return void c(0);const a=i===o+1;a&&t?n({isPlaying:!1}):c(a?0:o+1)},playPreveousTrack:()=>{const{trackIds:t,activeTrackIndex:n}=e,r=t.length;if(!r)return;let{currentTime:o}=e,i=n;-1===i?i=0:o<4&&(i=0===n?r-1:n-1,o=0),c(i)},addTracksToQueue:l,removeFromQueue:t=>{let{trackIds:r,originalTrackIds:o,activeTrackIndex:i}=e;r=r.filter((e=>!t.includes(e))),e.shuffle&&(o=o.filter((e=>!t.includes(e)))),i=o.indexOf(e.activeTrackId);let a={};-1===i&&(a={isPlaying:!1,currentTime:0,duration:NaN}),n({...a,trackIds:r,originalTrackIds:o,activeTrackIndex:i})},clearQueue:()=>{n({trackIds:[],originalTrackIds:[],isPlaying:!1,currentTime:0,duration:NaN})},toggleShuffle:()=>{let{shuffle:t}=e;t=!t,$((()=>{if(t)s(e.activeTrackIndex,e.trackIds);else{const{originalTrackIds:t}=e;n({activeTrackIndex:t.indexOf(e.activeTrackId),trackIds:t,originalTrackIds:[]})}n("shuffle",t)}))},toggleMute:()=>{let{volume:t,isMuted:r}=e;r=!r,!r&&t<10&&(t=10),n({volume:t,isMuted:r})},toggleRepeat:()=>{n({repeat:{0:1,1:2,2:0}[e.repeat]})},setCurrentTime:t=>{n({currentTimeChanged:!1,currentTime:t})},changeCurrentTime:t=>{n({currentTime:t,currentTimeChanged:!0})},setDuration:t=>{n({duration:t})},setVolume:t=>{n({volume:t,isMuted:!1})},addToQueue:t=>{l(t),Cn({message:"Selected tracks added to the queue",duration:4e3})},saveTrackTimestamp:(t,r)=>{r>5&&r<e.duration-10&&n("trackTimestamps",t,r)},getSavedTrackTimestamp:u,clearTrackTimestamp:t=>{n("trackTimestamps",t,void 0)}},[{key:"player-volume",selector:()=>e.volume,load:t=>n({volume:t})},{key:"player-is-muted",selector:()=>e.isMuted,load:t=>n({isMuted:t})},{key:"player-shuffle",selector:()=>e.shuffle,load:t=>n({shuffle:t})},{key:"player-repeat",selector:()=>e.repeat,load:t=>n({repeat:t})},{key:"player-track-timestamps",selector:()=>e.trackTimestamps,load:t=>n({trackTimestamps:t})}]]})),ko=jt("<div></div>",2),_o={viewArtists:ft((()=>gn((()=>import("./view-artists.6c17e910.js")),["assets/view-artists.6c17e910.js","assets/modal.650243e2.js"]))),addToPlaylists:ft((()=>gn((()=>import("./add-to-playlist-modal.09af54a2.js")),["assets/add-to-playlist-modal.09af54a2.js","assets/modal.650243e2.js"]))),createOrRenamePlaylist:ft((()=>gn((()=>import("./create-or-rename-playlist.ff469f92.js")),["assets/create-or-rename-playlist.ff469f92.js","assets/modal.650243e2.js"])))},xo=C(),Ao=()=>z(xo);Ot(["click"]);const $o=jt('<div style="user-select: text;"><div>Unknown error has occured please</div><a href="/">Reload</a><details><summary>Internal Error logs</summary><p></p></details></div>',12),Mo=t=>(()=>{const e=$o.cloneNode(!0),n=e.firstChild.nextSibling.nextSibling,r=n.firstChild.nextSibling;return Ct(n,(()=>console.log(t)),r),Ct(r,(()=>{var e;return null==(e=t.stack)?void 0:e.toString()})),e})(),To={backArrow:"M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z",play:"M8 5.14v14l11-7-11-7z",musicNote:"M12 3v9.26c-.5-.17-1-.26-1.5-.26C8 12 6 14 6 16.5S8 21 10.5 21s4.5-2 4.5-4.5V6h4V3h-7z",musicNoteOutline:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z",album:"M12 11a1 1 0 00-1 1 1 1 0 001 1 1 1 0 001-1 1 1 0 00-1-1m0 5.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z",albumOutline:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z",playlist:"M15 6H3v2h12V6m0 4H3v2h12v-2M3 16h8v-2H3v2M17 6v8.18c-.31-.11-.65-.18-1-.18a3 3 0 00-3 3 3 3 0 003 3 3 3 0 003-3V8h3V6h-5z",chevronDown:"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42z",chevronUp:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",search:"M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27C12.59 15.41 11.11 16 9.5 16A6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z",addPlaylist:"M2 16h8v-2H2m16 0v-4h-2v4h-4v2h4v4h2v-4h4v-2m-8-8H2v2h12m0 2H2v2h12v-2z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z",edit:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z",delete:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 002 2h8a2 2 0 002-2V7H6v12z",moreVertical:"M12 16a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2z",favorite:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35z",favoriteOutline:"M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z",sort:"M3 13h12v-2H3m0-5v2h18V6M3 18h6v-2H3v2z",person:"M12 4a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z",personOutline:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",playlistPlay:"M19,9H2V11H19V9M19,5H2V7H19V5M2,15H15V13H2V15M17,13V19L22,16L17,13Z",alertCircle:"M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2m0 18a8 8 0 01-8-8 8 8 0 018-8 8 8 0 018 8 8 8 0 01-8 8z",checkmark:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},jo=jt("<svg><path></path></svg>",4,!0),Oo=jt('<svg viewBox="-2 -2 28 28" aria-label="Artwork"></svg>',2),So=t=>{const e=z(Ce),n=Symbol("key"),r=()=>t.item,o=x((()=>{const t=r(),o=t&&t.type!==kn.PLAYLIST&&t.image;return O((()=>{o&&(null==e||e.release(o,n))})),o&&(null==e?void 0:e.get(o,n))||null}));return(()=>{const e=Oo.cloneNode(!0);return Ct(e,it(vt,{get when(){return null===o()},get children(){const t=jo.cloneNode(!0);return k((()=>St(t,"d",(()=>{const t=r();return t?To[(t=>{switch(null==t?void 0:t.type){case kn.ARTIST:return"person";case kn.PLAYLIST:return t.id===_n?"favorite":"playlist";default:return"album"}})(t)]:""})()))),t}})),k((n=>{var i;const a=(()=>{const t=o();return{"background-image":t&&`url(${t})`||""}})(),s=We("fa Na",t.class,(null==(i=r())?void 0:i.type)===kn.ARTIST&&"Oa");return n.i=Pt(e,a,n.i),s!==n.l&&St(e,"class",n.l=s),n}),{i:void 0,l:void 0}),e})()},Io=t=>{const[e]=go();return it(So,{get item(){return e.activeTrack},get class(){return We(t.class,"Pa")}})},Po=jt('<svg viewBox="0 0 24 24"><path></path></svg>',4),Lo=t=>(()=>{const e=Po.cloneNode(!0),n=e.firstChild;return k((r=>{const o=We("Qa",t.class),i=To[t.icon];return o!==r.i&&St(e,"class",r.i=o),i!==r.l&&St(n,"d",r.l=i),r}),{i:void 0,l:void 0}),e})(),Co=jt("<button></button>",2),zo=t=>(()=>{const e=Co.cloneNode(!0);return It(e,"click",t.onClick,!0),Ct(e,(()=>{const e=x((()=>void 0!==t.icon),!0);return()=>e()?it(Lo,{get icon(){return t.icon}}):t.children})()),k((n=>{const r=t.disabled,o=t.title,i=We("na F Q -a -Y oa ta ha fa Ra",t.class),a=t.tabIndex;return r!==n.i&&(e.disabled=n.i=r),o!==n.l&&St(e,"title",n.l=o),i!==n.v&&(e.className=n.v=i),a!==n.p&&St(e,"tabindex",n.p=a),n}),{i:void 0,l:void 0,v:void 0,p:void 0}),e})();Ot(["click"]);const Eo=jt('<div><svg viewBox="0 0 24 24"><path d="M 6,18 14.5,12 6,6 M 8,9.86 11.03,12 8,14.14"></path><path d="M 6,18 14.5,12 6,6 M 8,9.86 11.03,12 8,14.14"></path><path d="M16,6L16,18L18,18L18,6L16,6Z"></path></svg></div>',10),qo=t=>{const[e,n]=go();return it(zo,{get disabled(){return!e.trackIds.length},get title(){return t.title},onClick:e=>{Ke(e,200,"cb"),t.action(n)},get children(){const e=Eo.cloneNode(!0),n=e.firstChild,r=n.firstChild,o=r.nextSibling;return k((i=>{const a=We("bb",t.iconFlipped&&"_a"),s="ab",c="eb",l="db";return a!==i.i&&(e.className=i.i=a),s!==i.l&&St(n,"class",i.l=s),c!==i.v&&St(r,"class",i.v=c),l!==i.p&&St(o,"class",i.p=l),i}),{i:void 0,l:void 0,v:void 0,p:void 0}),e}})},No=()=>it(qo,{iconFlipped:!0,title:"Play previous track (SHIFT+P)",action:t=>t.playPreveousTrack()}),Ro=()=>it(qo,{title:"Play next track (SHIFT+N)",action:t=>t.playNextTrack()}),Fo=jt("<button><div><div></div><div></div></div></button>",8),Do=()=>{const[t,e]=go();return(()=>{const n=Fo.cloneNode(!0),r=n.firstChild,o=r.firstChild,i=o.nextSibling;return n.$$click=()=>e.playPause(),k((e=>{const a=t.isPlaying?"Pause (Space)":"Play (Space)",s=!t.activeTrack,c="na F Q -a -Y oa a m pa Va",l=We("Wa",t.isPlaying&&"Xa"),u="Ya",f=We("Ya","Za");return a!==e.i&&St(n,"title",e.i=a),s!==e.l&&(n.disabled=e.l=s),c!==e.v&&(n.className=e.v=c),l!==e.p&&(r.className=e.p=l),u!==e.m&&(o.className=e.m=u),f!==e.g&&(i.className=e.g=f),e}),{i:void 0,l:void 0,v:void 0,p:void 0,m:void 0,g:void 0}),n})()};Ot(["click"]);const Vo=jt("<div><div></div><div><div></div></div></div>",8),Ho=jt("<div></div>",2),Uo=jt('<svg viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path><path d="M 13,15 V 9.0000002 H 12 L 10,10 v 1 h 1.5 v 4 z"></path></svg>',6),Bo={0:"Enable repeat",1:"Enable repeat once",2:"Disable repeat"},Yo=()=>{const[t,e]=go(),n=t=>{Ke(t,350,"cb"),e.toggleShuffle()},r=t=>{Ke(t,325,"cb"),e.toggleRepeat()};return(()=>{const e=Ho.cloneNode(!0);return Ct(e,it(zo,{get title(){return t.shuffle?"Disable shuffle":"Enable shuffle"},onClick:n,get children(){return[(()=>{const e=Vo.cloneNode(!0),n=e.firstChild,r=n.nextSibling,o=r.firstChild;return k((i=>{const a=We("ab ib",t.shuffle&&"Ta"),s="jb",c="kb",l="jb Za";return a!==i.i&&(e.className=i.i=a),s!==i.l&&(n.className=i.l=s),c!==i.v&&(r.className=i.v=c),l!==i.p&&(o.className=i.p=l),i}),{i:void 0,l:void 0,v:void 0,p:void 0}),e})(),(()=>{const t=Ho.cloneNode(!0);return k((()=>t.className="Ua")),t})()]}}),null),Ct(e,it(No,{}),null),Ct(e,it(Do,{}),null),Ct(e,it(Ro,{}),null),Ct(e,it(zo,{get title(){return Bo[t.repeat]},onClick:r,get children(){return[(()=>{const e=Uo.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return k((o=>{const i=We("ab",0!==t.repeat&&"Ta"),a="fb",s=We("gb",2===t.repeat&&"hb");return i!==o.m&&St(e,"class",o.m=i),a!==o.g&&St(n,"class",o.g=a),s!==o.k&&St(r,"class",o.k=s),o}),{m:void 0,g:void 0,k:void 0}),e})(),(()=>{const t=Ho.cloneNode(!0);return k((()=>t.className="Ua")),t})()]}}),null),k((()=>e.className="ka Sa")),e})()},Go=jt('<svg viewBox="0 0 24 24"><mask id="a-volume-mask"><rect width="24" height="24" fill="white"></rect><g><rect fill="black" x="13" y="0" width="2" height="24"></rect></g></mask><g mask="url(#a-volume-mask)"><path d="m 3,9 v 6 h 4 l 5,5 V 4 L 7,9 Z m 13.5,3 c 0,-1.77 -1,-3.29 -2.5,-4.03 V 16 c 1.5,-0.71 2.5,-2.24 2.5,-4"></path><path d="M 14,3.2304688 V 5.2890625 C 16.89,6.1490625 19,8.83 19,12 c 0,3.17 -2.11,5.850938 -5,6.710938 v 2.058593 C 18.01,19.859531 21,16.28 21,12 21,7.72 18.01,4.1404688 14,3.2304688 Z"></path><g><rect x="11" y="0" width="2" height="24"></rect></g></g></svg>',20),Ko=t=>{const[e]=go();return it(zo,{get title(){return t.title},get onClick(){return t.onClick},get children(){const t=Go.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling,o=r.firstChild,i=n.nextSibling.firstChild.nextSibling,a=i.nextSibling,s=a.firstChild;return k((n=>{const c=`ob ${(()=>{const{volume:t}=e;let n="tb";return 0===t||e.isMuted?n="rb":t>50&&(n=""),n})()}`,l="pb",u="qb",f="sb",d="pb",h="qb";return c!==n.i&&St(t,"class",n.i=c),l!==n.l&&St(r,"class",n.l=l),u!==n.v&&St(o,"class",n.v=u),f!==n.p&&St(i,"class",n.p=f),d!==n.m&&St(a,"class",n.m=d),h!==n.g&&St(s,"class",n.g=h),n}),{i:void 0,l:void 0,v:void 0,p:void 0,m:void 0,g:void 0}),t}})},Zo=jt('<input type="range">',1),Wo=t=>{const e=lt({min:0,max:100},t);let n;return _((()=>{const t=100*e.value/e.max,r=Number.isFinite(t)?t:0;n.style.setProperty("--_17oz17h0",`${r}%`)})),(()=>{const r=Zo.cloneNode(!0);return"function"==typeof n?n(r):n=r,Lt(r,e,!1,!1),k((()=>r.className=We("nb",t.class))),r})()},Jo=jt("<div></div>",2),Qo=()=>{const[t,e]=go(),n=()=>{e.toggleMute()},r=t=>{const n=t.target,r=parseInt(n.value,10),o=Number.isInteger(r)?r:100;e.setVolume(o)};return(()=>{const e=Jo.cloneNode(!0);return Ct(e,it(Wo,{"aria-label":"Volume slider",get value(){return t.volume},onInput:r,get class(){return"ub"}}),null),Ct(e,it(Ko,{get title(){return t.isMuted?"Unmute (m)":"Mute (m)"},onClick:n}),null),k((()=>e.className="-K -G -S da vb")),e})()},Xo=jt("<div><div></div><div></div></div>",6),ti=jt("<div></div>",2),ei=t=>{const[e]=go(),n=()=>e.activeTrack;return(()=>{const e=ti.cloneNode(!0);return Ct(e,it(vt,{get when(){return n()},get children(){const e=Xo.cloneNode(!0),r=e.firstChild,o=r.nextSibling;return Ct(r,(()=>{var t;return(null==(t=n())?void 0:t.name)||"Unknown"})),Ct(o,(()=>{var t;return null==(t=n())?void 0:t.artists.join(", ")})),k((n=>{const i="B M X xb",a=t.bigTitle?"C N Y":"I T -d",s="J U -e";return i!==n.i&&(e.className=n.i=i),a!==n.l&&(r.className=n.l=a),s!==n.v&&(o.className=n.v=s),n}),{i:void 0,l:void 0,v:void 0}),e}})),k((()=>e.className=We("-J -F -S da q wb",t.class))),e})()};var ni="H S -c fa Ab";const ri=jt("<div><div></div><div></div></div>",6),oi=()=>{const[t,e]=go(),[n,r]=y(!1),[o,i]=y(0),a=t=>{Number.isFinite(t)&&e.changeCurrentTime(t)},s=()=>t.duration,c=()=>t.currentTime,l=()=>r(!0),u=()=>{a(o()),r(!1)},f=t=>{const e=t.composedPath()[0],n=(parseInt(e.value,10)||0)/1e3*s();i(n)},d=t=>{const{code:e}=t,n=e===on.ARROW_LEFT;if(n||e===on.ARROW_RIGHT){const e=c()+(n?-10:10),r=Math.max(Math.min(e,s()),0);a(r),t.preventDefault()}},h=()=>n()?o():c();return(()=>{const e=ri.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return Ct(n,(()=>De(h()))),Ct(e,it(Wo,{get disabled(){return!t.activeTrack},"aria-label":"Audio timeline",max:1e3,onPointerDown:l,onPointerUp:u,onInput:f,onKeyDown:d,get value(){return(()=>{const t=h();return t?1e3*t/s():0})()}}),r),Ct(r,(()=>De(s()))),k((t=>{const o="-J -F -S da zb",i=ni,a=ni;return o!==t.i&&(e.className=t.i=o),i!==t.l&&(n.className=t.l=i),a!==t.v&&(r.className=t.v=a),t}),{i:void 0,l:void 0,v:void 0}),e})()},ii=()=>{const[t,e]=wo(),[n]=go(),r=()=>n.activeTrack,o=x((()=>t.favorites.includes(n.activeTrackId)));return it(zo,{get class(){return"yb"},get title(){return o()?"Remove from Favorites":"Add to Favorites"},get icon(){return o()?"favorite":"favoriteOutline"},onClick:()=>{var t;const n=null==(t=r())?void 0:t.id;n&&(o()?e.unfavoriteTrack(n):e.favoriteTrack(n))},get disabled(){return!r()}})},ai=jt('<div><div><button title="Open player"><div></div></button></div></div>',8),si=t=>{const e=Ne("(max-width: 700px), (max-height: 440px)"),n=Ne("(min-width: 421px)"),r=Ne("(min-width: 300px)"),o=ne();return(()=>{const i=ai.cloneNode(!0),a=i.firstChild,s=a.firstChild,c=s.firstChild;return Ct(i,(()=>{const t=x((()=>!e()),!0);return()=>t()&&it(oi,{})})(),a),s.$$click=()=>o("/player"),Ct(c,it(Lo,{icon:"chevronUp",get class(){return"Fb"}}),null),Ct(c,it(Io,{}),null),Ct(s,it(ei,{}),null),Ct(a,(()=>{const t=x((()=>!!n()),!0);return()=>t()&&it(ii,{})})(),null),Ct(i,it(vt,{get when(){return!e()},get fallback(){return[x((()=>{const t=x((()=>!!r()),!0);return()=>t()&&it(Do,{})})()),x((()=>{const t=x((()=>!!n()),!0);return()=>t()&&it(Ro,{})})())]},get children(){return[it(Yo,{}),it(Qo,{})]}}),null),k((e=>{const n=We("-D d -K -F q Bb",t.class),r="-J -F -S da Cb",o="Gb na F Q -a -Y oa ta -K -G da Db",l="-B Eb";return n!==e.i&&(i.className=e.i=n),r!==e.l&&(a.className=e.l=r),o!==e.v&&(s.className=e.v=o),l!==e.p&&(c.className=e.p=l),e}),{i:void 0,l:void 0,v:void 0,p:void 0}),i})()};function ci(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.constructor();for(var o in t){var i=t[o],a=[...n,o];"string"==typeof i||"number"==typeof i||null==i?r[o]=e(i,a):"object"!=typeof i||Array.isArray(i)?console.warn('Skipping invalid key "'.concat(a.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(i)?"Array":typeof i,'"')):r[o]=ci(i,e,a)}return r}function li(t,e,n){t.style.setProperty(function(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}(e),n)}function ui(t,e,n){if("object"==typeof n){var r=e;ci(n,((e,n)=>{li(t,function(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}(r,n),String(e))}))}else{var o=e;for(var i in o)li(t,i,o[i])}}Ot(["click"]);const fi=new URL("sw.js",document.baseURI).href,di=()=>{Cn({message:"Something went wrong. Player wasn't able to play selected track.",duration:!1})};var hi={primary:"var(--vej1zy0)",primaryRgb:"var(--vej1zy1)",onPrimary:"var(--vej1zy2)",primaryContainer:"var(--vej1zy3)",onPrimaryContainer:"var(--vej1zy4)",secondary:"var(--vej1zy5)",onSecondary:"var(--vej1zy6)",secondaryContainer:"var(--vej1zy7)",onSecondaryContainer:"var(--vej1zy8)",tertiary:"var(--vej1zy9)",onTertiary:"var(--vej1zya)",tertiaryContainer:"var(--vej1zyb)",onTertiaryContainer:"var(--vej1zyc)",error:"var(--vej1zyd)",onError:"var(--vej1zye)",errorContainer:"var(--vej1zyf)",onErrorContainer:"var(--vej1zyg)",outline:"var(--vej1zyh)",background:"var(--vej1zyi)",onBackground:"var(--vej1zyj)",surface:"var(--vej1zyk)",onSurface:"var(--vej1zyl)",surfaceVariant:"var(--vej1zym)",onSurfaceVariant:"var(--vej1zyn)",inverseSurface:"var(--vej1zyo)",inverseOnSurface:"var(--vej1zyp)",inversePrimary:"var(--vej1zyq)"};const vi=(t,e)=>{const n=[];for(let r=0;r<e;r+=1)n.push(t+r);return n},pi=t=>Number.isFinite(t)?t:0,wi=C(),mi=(t,e,n)=>{const[r,o]=n?[t,e]:[e,t];return{main:r,cross:o}},bi={main:0,cross:0},yi=jt("<div></div>",2),gi=`virtual-container-${Math.random().toString(36).slice(2,1/0)}`;let ki;function _i(t){ki||(ki=document.createElement("style"),ki.type="text/css",ki.textContent=`\n      .${gi} {\n        position: relative !important;\n        flex-shrink: 0 !important;\n      }\n      .${gi} > * {\n        will-change: transform !important;\n        box-sizing: border-box !important;\n        contain: strict !important;\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n      }\n    `,document.head.appendChild(ki));const[e,n]=Se({focusPosition:0,mainAxis:{totalItemCount:0,focusPosition:0,scrollValue:0},crossAxis:{totalItemCount:0}}),{containerEl:r,setContainerRefEl:o,isDirectionHorizontal:i,measurements:a}=(t=>{const e=z(wi),[n,r]=y(void 0),o=()=>t.scrollTarget||(null==e?void 0:e.scrollTarget),i=x((()=>"horizontal"===(t.direction||"vertical"))),[a,s]=Se({isMeasured:!1,mainAxisScrollValue:0,target:{...bi},container:{...bi,offsetMain:0,offsetCross:0},itemSize:{...bi}}),c=()=>{const t=o();if(t){const e=i()?t.scrollLeft:t.scrollTop;return Math.floor(e)}return 0},l=new ResizeObserver((t=>{$((()=>{t.forEach((t=>(t=>{const e=t.target,r=o(),c=n(),l=i(),u=(t=>{let e=0,n=0;if(t.borderBoxSize){const{borderBoxSize:r}=t,o=Array.isArray(r)?r[0]:r;e=o.inlineSize,n=o.blockSize}else{const r=t.target.getBoundingClientRect();e=r.width,n=r.height}return{width:e,height:n}})(t),f=mi(u.width,u.height,l);if(e===r)s("target",f);else if(e===c&&(d=f,a.container.cross!==d.cross||!a.isMeasured)){const t=((t,e)=>{let n=e,r=0,o=0;for(;n&&t!==n;){const{offsetTop:e,offsetLeft:i,offsetParent:a}=n;if(!t.contains(a)){r+=e-t.offsetTop,o+=i-t.offsetLeft;break}r+=e,o+=i,n=a}return{offsetTop:r,offsetLeft:o}})(r,c),e=mi(t.offsetLeft,t.offsetTop,l);s("container",{...f,offsetMain:e.main,offsetCross:e.cross})}var d})(t))),s({isMeasured:!0,mainAxisScrollValue:c()})}))}));g((()=>{if(!a.isMeasured)return;const e=i(),n=t.itemSize;let r;r="function"==typeof n?n(a.container.cross,e):n;const o=mi(r.width||0,r.height||0,e);s("itemSize",o)}));const u=()=>{s("mainAxisScrollValue",c())};return _((()=>{const t=o(),e=n();t&&e&&(t.addEventListener("scroll",u),l.observe(t),l.observe(e),O((()=>{s("isMeasured",!1),t.removeEventListener("scroll",u),l.unobserve(t),l.unobserve(e)})))})),{containerEl:n,setContainerRefEl:r,isDirectionHorizontal:i,measurements:a}})(t),s=()=>t.items&&t.items.length||0;g((()=>{var e;if(!a.isMeasured)return;const r=pi((null==(e=t.crossAxisCount)?void 0:e.call(t,a,s()))||0);n("crossAxis",{totalItemCount:Math.max(1,r)})})),g((()=>{if(!a.isMeasured)return;const t=s(),r=e.crossAxis.totalItemCount,o=Math.ceil(t/r);n("mainAxis",{totalItemCount:pi(o)}),n("crossAxis",{totalItemCount:r,positions:vi(0,e.crossAxis.totalItemCount)})})),g((()=>{const t=Math.floor(e.focusPosition/e.crossAxis.totalItemCount);n("mainAxis","focusPosition",pi(t))}));const c=((e,n,r)=>{const[o,i]=Se({overscan:0,positionCount:0,maxScrollPosition:0,currentPosition:0});g((()=>{if(!e.isMeasured)return;const r=n.totalItemCount,o=e.itemSize.main,a=e.target.main;M((()=>{var e;const n=null!=(e=t.overscan)?e:Math.max(Math.ceil(180/o),2),s=pi(n);i("overscan",s);const c=Math.ceil(a/o),l=(u=Math.min(c+2*s,r),Number.isInteger(u)?u:0);var u;i("positionCount",l),i("maxScrollPosition",r-l)}))})),g((()=>{if(!e.isMeasured)return;const t=e.mainAxisScrollValue-e.container.offsetMain,n=Math.floor(t/e.itemSize.main)-o.overscan,r=Math.min(Math.max(0,n),o.maxScrollPosition);i("currentPosition",r)}));let a=0;const s=x(((t=[])=>{if(!e.isMeasured)return t;const r=o.currentPosition,i=(t=>{const{total:e,focusPosition:n,positionCount:r,startPosition:o,prevPositions:i,prevStartPosition:a}=t,s=i.length;if(e<=r)return s===r&&a===o?i:vi(0,r);const c=o+r,l=t=>t<o||t>=c,u=()=>{if(l(n))return n;let t;return t=c<e?c:o-1,t};if(s!==r+1){const t=vi(o,r);return t.push(u()),t}const f=[];for(let h=0;h<r;h+=1){const t=o+h;i.includes(t)||f.push(t)}const d=u();return i.includes(d)||f.push(d),i.map((t=>l(t)&&t!==d?f.pop():t))})({total:n.totalItemCount,focusPosition:n.focusPosition,positionCount:o.positionCount,startPosition:r,prevStartPosition:a,prevPositions:t});return a=r,i}));return s})(a,e.mainAxis),l=x((()=>vi(0,e.crossAxis.totalItemCount))),u=x((()=>t.items||[])),f=(t,n)=>t*e.crossAxis.totalItemCount+n,d=n=>it(ht,{get each(){return c()},children:r=>{const o=x((()=>{const t=r(),e=n.crossPos;return void 0===e?t:f(t,e)}));return it(vt,{get when(){return o()<u().length},get children(){return it(Vt,{get component(){return t.children},get items(){return u()},get item(){return u()[o()]},get index(){return o()},get tabIndex(){return o()===e.focusPosition?0:-1},get style(){return((t,e=0)=>{const n=a.itemSize,r=n.main*t,o=n.cross*e;let s=o,c=r,l=n.cross,u=n.main;return i()&&(s=r,c=o,l=n.main,u=n.cross),{transform:`translate(${s}px, ${c}px)`,width:l?`${l}px`:"",height:u?`${u}px`:""}})(r(),n.crossPos)}})}})}}),h=E((()=>it(vt,{get when(){return e.crossAxis.totalItemCount>1},get fallback(){return it(d,{})},get children(){return it(ht,{get each(){return l()},children:t=>it(d,{get crossPos(){return t()}})})}}))),v=t=>{const{code:o}=t,a="ArrowDown"===o,u="ArrowRight"===o,d="ArrowUp"===o||a,v="ArrowLeft"===o||u;if(d||v)((t,r)=>{const o=e.focusPosition;let i=o%e.crossAxis.totalItemCount,a=Math.floor(o/e.crossAxis.totalItemCount);r?a+=t:i+=t;const u=f(a,i);if(u<0||u>=s())return;const d=l().indexOf(i);if(-1===d)return;n("focusPosition",u);const v=h(),p=c(),w=p.indexOf(a);if(-1===w)return;const m=v[d*p.length+w];m&&queueMicrotask((()=>{m.focus(),m.scrollIntoView({block:"nearest"})}))})(a||u?1:-1,i()?v:d);else{if("Enter"!==o)return;if(!(t=>{const e=(t=>t.querySelector(":focus"))(t);return!!e&&(e.click(),!0)})(r()))return}t.preventDefault()},p=()=>{const t=(()=>{const t=l(),n=c(),r=h().findIndex((t=>null==t?void 0:t.matches(":focus-within, :focus")));if(-1===r)return-1;if(e.crossAxis.totalItemCount>1){const e=Math.floor(r/n.length),o=r%n.length,i=t[e],a=n[o];return f(a,i)}return n[r]})();n("focusPosition",-1===t?0:t)},w=async()=>{queueMicrotask((()=>{r().matches(":focus-within")||n("focusPosition",0)}))};return(()=>{const n=yi.cloneNode(!0);return n.$$focusout=w,n.$$focusin=p,n.$$keydown=v,o(n),Ct(n,h),k((r=>{const o=`${gi} ${t.className||""}`,s=(()=>{const t=e.mainAxis.totalItemCount*a.itemSize.main;return{[i()?"width":"height"]:`${t}px`,[i()?"height":"width"]:"100%"}})(),c=t.role||"list";return o!==r.i&&(n.className=r.i=o),r.l=Pt(n,s,r.l),c!==r.v&&St(n,"role",r.v=c),r}),{i:void 0,l:void 0,v:void 0}),n})()}Ot(["keydown","focusin","focusout"]);const xi=jt('<div role="listitem"><div><div></div><div></div></div></div>',8),Ai=jt("<div></div>",2),$i=t=>{const e=vn(),n=(n,r)=>{var o;if(t.disableMenu)return;r.stopPropagation(),r.preventDefault();const i=n?{anchor:!0,preferredAlign:{horizontal:"right"}}:{anchor:!1,position:{top:r.y,left:r.x}},a=null==(o=t.getMenuItems)?void 0:o.call(t).filter(Boolean);a&&e.show(a,r.target,i)};return(()=>{const e=xi.cloneNode(!0),r=e.firstChild,o=r.firstChild,i=o.nextSibling;return e.$$contextmenu=n,e.$$contextmenuData=!1,It(e,"click",t.onClick,!0),Ct(e,(()=>{const e=x((()=>!!t.icon),!0);return()=>e()&&(()=>{const e=Ai.cloneNode(!0);return Ct(e,(()=>t.icon)),k((()=>e.className="Sb")),e})()})(),r),Ct(o,(()=>t.text)),Ct(i,(()=>t.secondaryText)),Ct(e,(()=>{const e=x((()=>!!t.trailing),!0);return()=>e()&&(()=>{const e=Ai.cloneNode(!0);return Ct(e,(()=>t.trailing)),k((()=>e.className="Vb")),e})()})(),null),Ct(e,it(vt,{get when(){return!t.disableMenu},get children(){return it(zo,{title:"More actions",icon:"moreVertical",get tabIndex(){return t.tabIndex},onClick:[n,!0],get class(){return"Wb"}})}}),null),k((n=>{const a=t.tabIndex,s=We("na -q -t va -C -J -F J U -e y Rb",t.isSelected&&"Qb",t.class),c=t.style,l="Tb",u="la I T -d x Ub",f="la";return a!==n.i&&St(e,"tabindex",n.i=a),s!==n.l&&(e.className=n.l=s),n.v=Pt(e,c,n.v),l!==n.p&&(r.className=n.p=l),u!==n.m&&(o.className=n.m=u),f!==n.g&&(i.className=n.g=f),n}),{i:void 0,l:void 0,v:void 0,p:void 0,m:void 0,g:void 0}),e})()};Ot(["click","contextmenu"]);var Mi="I T -d _b";const Ti=jt("<div></div>",2),ji=t=>{const e=ne(),n=Ao(),[r,o]=wo(),[,i]=go(),[a]=go(),s=()=>r.tracks[t.item],c=x((()=>{const{isPlayingItem:e}=t;return e?e(s(),t.index):a.activeTrack===s()}));return it($i,{get isSelected(){return c()},onClick:()=>{const{index:e}=t;t.onItemClick?t.onItemClick(s(),e):i.playTrack(e,t.items)},get style(){return t.style},get tabIndex(){return t.tabIndex},get class(){return t.class},get icon(){return it(vt,{get when(){return!t.showIndex},get fallback(){return(()=>{const e=Ti.cloneNode(!0);return Ct(e,(()=>t.index+1)),k((()=>e.className=Mi)),e})()},get children(){return it(So,{get item(){return s()},get class(){return We(Mi,"ac")}})}})},get text(){return s().name},get secondaryText(){return(t=s().artists).length?t.join(", "):"<unknown>";var t},get trailing(){return[(()=>{const t=Ti.cloneNode(!0);return Ct(t,(()=>s().album||"<unknown>")),k((()=>t.className="la bc")),t})(),(()=>{const t=Ti.cloneNode(!0);return Ct(t,(()=>De(s().duration))),k((()=>t.className="la cc")),t})()]},getMenuItems:()=>{var a;const c=s(),{artists:l,id:u}=c,f=r.favorites.includes(u);return[{name:"Add to queue",action:()=>{i.addToQueue([u])}},l.length&&{name:`View ${Qe(l.length,"artist")}`,action:()=>{l.length>1?n.viewArtists.show({artistsIds:c.artists}):e(`/artist/${l[0]}`)}},c.album&&{name:"View album",action:()=>{e(`/album/${c.album||""}`)}},{name:f?"Remove from Favorites":"Add to Favorites",action:()=>{f?o.unfavoriteTrack(u):o.favoriteTrack(u)}},{name:"Add to playlist",action:()=>{n.addToPlaylists.show({trackIds:[u]})}},...(null==(a=t.additionalMenuItems)?void 0:a.call(t,s(),o))||[],{name:"Remove from the library",action:()=>{o.removeTracks([u])}}]}})},Oi=t=>{const[e,n]=y(!1),[r,o]=y(!1);let i;return en((()=>i),(t=>{n(t.contentRect.width>800),o(t.contentRect.width<440)})),(()=>{const n=Ti.cloneNode(!0);return"function"==typeof i?i(n):i=n,Ct(n,it(_i,{itemSize:{height:68},get items(){return t.items},children:n=>it(ji,lt(n,{get class(){return We(!e()&&"Yb",r()&&"Zb")},get isPlayingItem(){return t.isPlayingItem},get onItemClick(){return t.onItemClick},get showIndex(){return t.showIndex},get additionalMenuItems(){return t.additionalMenuItems}}))})),k((()=>n.className="Xb")),n})()},Si=t=>it(vt,{get when(){return t.items.length},get fallback(){return t.fallback},get children(){return it(Oi,t)}}),Ii=t=>{const[e,n]=wo(),r=Ao(),o=()=>t.item===_n,i=x((()=>{var n;return o()?{icon:"favorite",name:"Favorites"}:{icon:"playlist",name:null==(n=e.playlists[t.item])?void 0:n.name}}));return it($i,{get onClick(){return t.onClick},getMenuItems:()=>[{name:"Rename",action:()=>r.createOrRenamePlaylist.show({type:"rename",playlistId:t.item})},{name:"Remove",action:()=>n.remove(t.item,kn.PLAYLIST)}],get disableMenu(){return t.disableMenu||o()},get style(){return t.style},get tabIndex(){return t.tabIndex},get icon(){return it(Lo,{get icon(){return i().icon}})},get text(){return i().name}})},Pi=t=>{const e=x((()=>{const{items:e}=t;return t.hideFavorites?e:[_n,...e]}));return it(_i,{itemSize:{height:56},get items(){return e()},children:e=>it(Ii,lt(e,{get disableMenu(){return t.disableMenu},get isSelected(){return t.selectedId===e.item},onClick:()=>{var n;return null==(n=t.onItemClick)?void 0:n.call(t,e.item,e.index)}}))})},Li=jt('<div role="listitem"><div><div><div></div><div></div></div></div></div>',10),Ci=t=>{const e=ne(),n=t=>t.type===kn.ALBUM,r=()=>{const e=t.itemData;if(n(e)){const{artists:t}=e;return t.length?t.join(" ,"):"<unknown>"}return""},o=()=>{const r=t.itemData,o=`/${n(r)?"album":"artist"}/${encodeURIComponent(r.id)}`;e(o)};return(()=>{const e=Li.cloneNode(!0),n=e.firstChild,i=n.firstChild,a=i.firstChild,s=a.nextSibling;return e.$$click=o,Ct(n,it(So,{get item(){return t.itemData},get class(){return"gc"}}),i),Ct(a,(()=>t.itemData.name)),Ct(s,r),k((r=>{const o=t.style,s="ec",c=t.tabIndex,l="na y fc",u="J U -e -S -V -Y hc ic",f="I T -d x";return r.i=Pt(e,o,r.i),s!==r.l&&(e.className=r.l=s),c!==r.v&&St(e,"tabindex",r.v=c),l!==r.p&&(n.className=r.p=l),u!==r.m&&(i.className=r.m=u),f!==r.g&&(a.className=r.g=f),r}),{i:void 0,l:void 0,v:void 0,p:void 0,m:void 0,g:void 0}),e})()};Ot(["click"]);const zi=t=>{const e=t>440?200:160,n=Math.floor(t/e),r=Math.floor(t/n);return{width:r,height:r-8+88}},Ei=t=>{const[e]=wo(),n=x((()=>"album"===t.type?e.albums:e.artists));return it(_i,{itemSize:zi,get items(){return t.items},crossAxisCount:t=>Math.floor(t.container.cross/t.itemSize.cross),children:t=>it(Ci,lt(t,{get itemData(){return n()[t.item]}}))})},qi={path:"tracks",title:"Tracks",type:kn.TRACK,component:Si},Ni={path:"artists",title:"Artists",type:kn.ARTIST,component:t=>it(Ei,lt(t,{type:"artist"}))},Ri={path:"albums",title:"Albums",type:kn.ALBUM,component:t=>it(Ei,lt(t,{type:"album"}))},Fi={path:"playlists",title:"Playlists",type:kn.PLAYLIST,component:Pi},Di=jt("<button>New playlist</button>",2),Vi={name:"A to Z",key:"name"},Hi={name:"Year",key:"year"},Ui=[{...qi,icon:"musicNoteOutline",iconSelected:"musicNote",sortOptions:[Vi,{name:"Album",key:"album"},{name:"Artists",key:"artists"},Hi,{name:"Duration",key:"duration"}]},{...Ri,icon:"albumOutline",iconSelected:"album",sortOptions:[Vi,{name:"Artists",key:"artists"},Hi]},{...Ni,icon:"personOutline",iconSelected:"person",sortOptions:[Vi]},{...Fi,icon:"playlist",iconSelected:"playlist",actions:()=>{const t=Ao();return(()=>{const e=Di.cloneNode(!0),n=e.firstChild;return e.$$click=()=>{t.createOrRenamePlaylist.show({type:"create"})},Ct(e,it(Lo,{icon:"plus"}),n),k((()=>e.className="sa na F Q -a -Y oa l ra")),e})()},sortOptions:[Vi,{name:"Date created",key:"dateCreated"}],component:t=>{const e=ne();return it(Fi.component,lt(t,{onItemClick:t=>e(`/playlist/${t}`)}))}}],Bi=`/library/${Ui[0].path}`;Ot(["click"]);const Yi=jt("<header><div></div></header>",4),Gi=jt("<h1></h1>",2),Ki=jt("<div></div>",2),Zi=()=>{const t=re(),e=ne(),n=()=>t.pathname;return it(zo,{icon:"backArrow",title:"Back button",onClick:()=>{const t=n();window.history.back(),Be(50).then((()=>{t===n()&&e("/")}))}})},Wi=t=>{const[e]=Xi()||[{}];return(()=>{const n=Yi.cloneNode(!0),r=n.firstChild;return Ct(r,it(pt,{get children(){return[it(wt,{get when(){return void 0===t.mainButton},get children(){return it(Zi,{})}}),it(wt,{get when(){return t.mainButton},get children(){return t.mainButton}})]}}),null),Ct(r,(()=>{const e=x((()=>!!t.title),!0);return()=>e()&&(()=>{const e=Gi.cloneNode(!0);return Ct(e,(()=>t.title)),k((()=>e.className="C N Y")),e})()})(),null),Ct(r,(()=>{const e=x((()=>!t.hideSpacer),!0);return()=>e()&&(()=>{const t=Ki.cloneNode(!0);return k((()=>t.className="vc")),t})()})(),null),Ct(r,(()=>t.children),null),Ct(n,(()=>t.belowContent),null),k((o=>{const i=We("-S -V fa tc",(void 0===t.scrollAware||t.scrollAware)&&e.isScolled&&"-N",t.class),a="ka -q -u uc";return i!==o.i&&(n.className=o.i=i),a!==o.l&&(r.className=o.l=a),o}),{i:void 0,l:void 0}),n})()},Ji=jt("<div><div></div><div></div><div></div><div></div></div>",10),Qi=C(),Xi=()=>z(Qi),ta=t=>{const[e,n]=Se({isScolled:!1});return _((()=>{const e=t.title&&`${t.title} â€¢ Snae Player`;e&&(document.title=e)})),it(Qi.Provider,{value:[e,n],get children(){const e=Ji.cloneNode(!0),n=e.firstChild,r=n.nextSibling,o=r.nextSibling,i=o.nextSibling;return Ct(n,(()=>{return e=t.topBar,n=t.title,!1===e?null:"string"==typeof e||void 0!==n&&void 0===e?it(Wi,{title:e||n}):e;var e,n})),Ct(r,(()=>t.navRail)),Ct(o,it(vt,{get when(){return t.scrollable},get fallback(){return t.children},get children(){return it(ra,{observeScrollState:!0,get children(){return t.children}})}})),Ct(i,(()=>t.bottomBar)),k((a=>{const s=We("i ha wc",t.class),c="xc",l="yc",u="Ac",f="zc";return s!==a.i&&(e.className=a.i=s),c!==a.l&&(n.className=a.l=c),l!==a.v&&(r.className=a.v=l),u!==a.p&&(o.className=a.p=u),f!==a.m&&(i.className=a.m=f),a}),{i:void 0,l:void 0,v:void 0,p:void 0,m:void 0}),e}})},ea=jt("<div></div>",2),na=C((()=>!1)),ra=t=>{const e=z(na);let n,r,o=!0;const i=Xi();if(i){const[,e]=i;_((()=>{if(!t.observeScrollState)return;const n=new IntersectionObserver((([t])=>{o?o=!1:e("isScolled",0===t.intersectionRatio)}),{threshold:0});n.observe(r),O((()=>n.unobserve(r)))}))}return(()=>{const o=ea.cloneNode(!0);return"function"==typeof n?n(o):n=o,Ct(o,it(wi.Provider,{value:{scrollTarget:n},get children(){return[(()=>{const t=ea.cloneNode(!0);return"function"==typeof r?r(t):r=t,k((()=>t.className="Cc")),t})(),(()=>{const e=ea.cloneNode(!0);return Ct(e,(()=>t.children)),k((()=>e.className="-p -t -i -m -K -G -S -V Fc")),e})()]}})),k((()=>o.className=We("ma -S -V -G da Bc",e()&&"Dc",t.class))),o})()},oa=jt("<div></div>",2),ia=t=>{const[e]=wo(),[n]=bo(),r=()=>{switch(t.type){case kn.TRACK:return e.tracks;case kn.ALBUM:return e.albums;case kn.ARTIST:return e.artists;case kn.PLAYLIST:return e.playlists;default:throw new Error("Wrong item type")}},o=x((()=>Ue([...Object.values(r())],n.sortKeys[t.type]).map((t=>t.id))));return it(ra,{get class(){return"pc"},observeScrollState:!0,get children(){return[x((()=>x((()=>!!t.actions),!0)()&&(()=>{const e=oa.cloneNode(!0);return Ct(e,(()=>t.actions)),k((()=>e.className="ka sc")),e})())),it(Vt,{get component(){return t.component},get items(){return o()}})]}})},aa=t=>{let{move:e,enter:n,exit:r,initial:o,onEntering:i,onEntered:a,onExiting:s,onExited:c}={};k((()=>o=t.initial)),k((()=>e=t.move)),k((()=>n=t.enter)),k((()=>r=t.exit)),k((()=>i=t.onEntering)),k((()=>a=t.onEntered)),k((()=>s=t.onExiting)),k((()=>c=t.onExited));const l=E((()=>t.children)),[u,f]=y([]);let d=!1;const h=new Set,v=t=>{d||(d=!0,requestAnimationFrame((()=>{h.size&&w(h),h.clear(),d=!1})));for(const e of t)h.add(e)},p=t=>a&&a(t),w=t=>{c&&c([...t]),b((n=>{const r=M(u).filter((e=>!t.has(e)));e&&r.length&&e(r),f(r),setTimeout(n)}))};let m=!0;const[_,x]=y([]);return k((()=>{const t=(e=l(),(Array.isArray(e)?e:[e]).filter((t=>t instanceof Element)));var e;x(t)})),g((t=>{const c=_(),l=new Set(c);if(m)c.length&&(m=!1,i&&i(c),"function"==typeof o?o(c,p):!0===o&&n?n(c,p):!1!==o&&(null==n?void 0:n.initial)?n.initial(c,p):a&&a(c));else{const o=M(u),a=o,f=c.filter((e=>!t.has(e))),d=t;for(const t of d)l.has(t)&&d.delete(t);for(let t=0;t<o.length;t++)!l.has(o[t])&&c.splice(t,0,o[t]);if(a.length&&e&&e(a),f.length){i&&i(f);for(const t of f){if(!h.size)break;h.delete(t)}n?n(f,p):p(f)}if(d.size){const t=[...d];s&&s(t),r?r(t,v):w(d)}}return f(c),l}),new Set(u())),u},sa={duration:300,easing:"ease",fill:"backwards"},ca=(t,e,n)=>({transform:[`translate(${e}px,${n}px)`,"none"],composite:"add"});function la(t,...e){for(const n of t)n.classList.add(...e)}function ua(t,e){const n=t=>{var e;return null!=(e=null==t?void 0:t.split(" "))?e:[]},r=n(t.from),o=n(t.active),i=n(t.to),a=t.name&&(t.name+e?"-enter":"-exit");return a&&(r.unshift(`${a}-from`),o.unshift(`${a}-active`),i.unshift(`${a}-to`)),{fromClasses:r,activeClasses:o,toClasses:i}}function fa(t,e){const{fromClasses:n,activeClasses:r,toClasses:o}=t,{type:i="both"}=e;return(t,e)=>{for(const n of t)n.dispatchEvent(new CustomEvent("flipcancel"));la(t,...n,...r),requestAnimationFrame((()=>requestAnimationFrame((()=>{!function(t,...e){for(const n of t)n.classList.remove(...e)}(t,...n),la(t,...o);const a=t=>{const n=({target:o,type:i})=>{o===t&&(t.removeEventListener("flipcancel",n),"animationend"!==i&&t.removeEventListener("transitionend",n),"transitionend"!==i&&t.removeEventListener("animationend",n),t.classList.remove(...r),"flipcancel"!==i&&e&&e([t]))};t.addEventListener("flipcancel",n),"animationend"!==i&&t.addEventListener("transitionend",n),"transitionend"!==i&&t.addEventListener("animationend",n)};for(const e of t)a(e)}))))}}const da=t=>{const e=Xe();return it(vt,{get when(){return!e()},get fallback(){return t.children},get children(){return it(aa,{get initial(){return t.initial},get enter(){return function(t,e={}){const{unabsolute:n,...r}=e,o=ua(t,!0),i=fa(o,r);return Object.assign(((t,e)=>{n&&function(t){for(const e of t){const t=e.getAnimations();for(const e of t)"detach"===e.id&&e.cancel()}}(t),i(t,e)}),{initial:(t,e)=>{la(t,...o.toClasses),e&&e(t)}})}({active:t.enter})},get exit(){return function(t,e={}){const{absolute:n,...r}=e,o=fa(ua(t,!1),r);return(t,e)=>{n&&function(t){let e,n;const r=[];for(const o of t){const t=o.parentElement;if(t){const{x:i,y:a,width:s,height:c}=o.getBoundingClientRect();if(void 0===e||void 0===n){const r=t.getBoundingClientRect();e=r.x,n=r.y}r.push((()=>{o.animate([{},{position:"absolute",margin:"0px",left:i-e+"px",top:a-n+"px",width:`${s}px`,height:`${c}px`}],{fill:"forwards"}).id="detach"}))}}for(const o of r)o()}(t),o(t,e)}}({active:t.exit})},get move(){return x((()=>!!t.move),!0)()&&function(t={}){const e=function(t,e){if("function"==typeof t)return t;const{defaultKeyframes:n,configOptions:r}=e,{keyframes:o=n,options:i}=t,a={...sa,...r,...i};return(t,...e)=>{const n=t.animate("function"==typeof o?o(t,...e):o,a);return a.id&&(n.id=a.id),n.finished}}(t,{defaultKeyframes:ca});return t=>{const n=function(t){const e=[];for(const r of t)if(r.isConnected){const{x:t,y:n}=r.getBoundingClientRect();e.push([r,t,n])}const n=[];return j((()=>j((()=>{for(const[t,r,o]of e)if(t.isConnected){const{x:e,y:i}=t.getBoundingClientRect(),a=r-e,s=o-i;(a||s)&&n.push([t,a,s])}})))),n}(t);j((()=>j((()=>{for(const t of n)e(...t)}))))}}({keyframes:(t,e,n)=>({transform:[`translate(${e}px,${n}px)`,"none"]}),options:{duration:100,easing:"ease",fill:"backwards"}})||void 0},get children(){return t.children}})}})};var ha="sa na F Q -a -Y oa l ra";const va=jt("<button></button>",2),pa=jt("<div></div>",2),wa=jt("<h1></h1>",2),ma=t=>t.href?it(ve,{get class(){return ha},get href(){return t.href},get children(){return t.title}}):(()=>{const e=va.cloneNode(!0);return It(e,"click",t.onClick,!0),Ct(e,(()=>t.title)),k((()=>e.className=ha)),e})(),ba=t=>(()=>{const e=pa.cloneNode(!0);return Ct(e,(()=>{const e=x((()=>!!t.title),!0);return()=>e()&&(()=>{const e=wa.cloneNode(!0);return Ct(e,(()=>t.title)),k((()=>e.className="B M X x")),e})()})(),null),Ct(e,(()=>{const e=x((()=>!!t.message),!0);return()=>e()&&(()=>{const e=pa.cloneNode(!0);return Ct(e,(()=>t.message)),e})()})(),null),Ct(e,(()=>{const e=x((()=>!!t.button),!0);return()=>e()&&it(ma,lt((()=>t.button)))})(),null),k((()=>e.className=We("D O Z -S -V y -G -Y da Gc",t.class))),e})();Ot(["click"]);const ya=jt("<button>Install</button>",2),ga=jt("<div></div>",2),[ka,_a]=y();window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),_a(t)}));const xa=t=>{const e=ne(),n=vn(),[r,o]=bo(),i=t=>{n.show([{name:"Settings",action:()=>e("/settings")},{name:"About",action:()=>e("/about")}],t.target,{anchor:!0,preferredAlign:{horizontal:"right"}})},a=oe((()=>"/library/:page")),s=x((()=>{var t;return{tracks:kn.TRACK,albums:kn.ALBUM,artists:kn.ARTIST,playlists:kn.PLAYLIST}[null==(t=a())?void 0:t.params.page]})),c=t=>{const e=s(),i=Ui.find((t=>t.type===e));if(!i||void 0===e)return;const a=i.sortOptions.map((t=>({name:t.name,action:()=>{o.sort({type:e,key:t.key})},selected:r.sortKeys[e]===t.key})));n.show(a,t.target,{anchor:!0,preferredAlign:{horizontal:"right"},width:124})},l=()=>{const t=ka();t&&t.prompt().then((()=>t.userChoice)).then((t=>{"accepted"===t.outcome&&_a(void 0)}))};return it(Wi,{mainButton:!1,title:"Library",get belowContent(){return t.tabs},get children(){return[it(vt,{get when(){return ka()},get children(){const t=ya.cloneNode(!0);return t.$$click=l,k((()=>t.className="na F Q -a -Y oa d q qa")),t}}),it(zo,{icon:"search",title:"Search",onClick:()=>e("/search")}),it(zo,{icon:"sort",title:"Sort",onClick:c}),it(zo,{icon:"moreVertical",title:"More actions",onClick:i})]}})},Aa=t=>it(ve,{get activeClass(){return"nc"},get class(){return"na ja mc -I -E -Y da"},get href(){return t.path},replace:!0,get children(){return it(Lo,{get icon(){return t.icon}})}}),$a=t=>(()=>{const e=ga.cloneNode(!0);return Ct(e,it(dt,{each:Ui,children:Aa})),k((()=>e.className=We((t=>{switch(t){case"rail":return"ja kc";case"bottom":return"lc";case"tabs":return"jc";default:throw new Error("Unknown type")}})(t.type),"bottom"===t.type&&"-N"))),e})();Ot(["click"]);const Ma={path:"/library",component:()=>{const[t]=wo(),e=Ne("(max-width: 500px)"),n=((t,e)=>{const n=Object.entries(t).map((([t,e])=>[oe((()=>t)),e])),r=re(),o=x((()=>{r.pathname;const t=M((()=>n.find((([t])=>t()))));return t?t[1]:()=>{}}));return x((()=>o()()))})({"/library/tracks":()=>kn.TRACK,"/library/albums":()=>kn.ALBUM,"/library/artists":()=>kn.ARTIST,"/library/playlists":()=>kn.PLAYLIST}),r=x((()=>Ui.find((t=>t.type===n()))));return it(ta,{get title(){var t;return`Library ${null==(t=r())?void 0:t.title}`},get topBar(){return it(xa,{get tabs(){return x((()=>!(!e()||nn)),!0)()&&it($a,{type:"tabs"})}})},get navRail(){return x((()=>!e()),!0)()&&it($a,{type:"rail"})},get bottomBar(){return x((()=>!(!e()||!nn)),!0)()&&it($a,{type:"bottom"})},get children(){return it(vt,{get when(){return Object.keys(t.tracks).length},get fallback(){return it(ba,{title:"Your Library is empty",button:{title:"Import some music",href:"/settings"}})},get children(){const t=ga.cloneNode(!0);return Ct(t,it(da,{get enter(){return"qc"},get exit(){return"rc"},get children(){return it(de,{})}})),k((()=>t.className="oc")),t}})}})},children:Ui.map((t=>({path:t.path,component:()=>it(ia,t)})))},Ta={path:"/player",component:ft((()=>gn((()=>import("./player.64cc6bf4.js")),[]))),children:[{path:"/"},{path:"/queue"}]},ja={...Fi,itemSelector:(t,e)=>{if(t===_n)return{id:t,type:kn.PLAYLIST,name:"Favorites",trackIds:e.favorites}},additionalMenuItems:t=>[{name:"Rename playlist",action:()=>{Ao().createOrRenamePlaylist.show({playlistId:t.id,type:"rename"})}}]},Oa=[{...Ni,sortTrackByKey:"name"},{...Ri,label:t=>t.artists.join(", "),info:t=>[t.year].filter(Boolean),showTrackIndex:!0,sortTrackByKey:"trackNo"},{...ja,additionalTrackMenuItems:(t,e,n)=>[{name:"Remove from playlist",action:()=>n.removeTracksFromPlaylist(t.id,[e.id])}]}].map((t=>({...t,path:t.path.slice(0,-1),name:t.path.slice(0,-1)}))),Sa=ft((()=>gn((()=>import("./details.0454f837.js")),[]))),Ia=[Ma,Ta,...Oa.map((t=>({path:`${t.path}/:itemId`,component:()=>it(Sa,t)}))),{path:"/search",component:ft((()=>gn((()=>import("./search.e0352bfc.js")),[]))),children:[{path:"/"},{path:"/:searchTerm"}]},{path:"/settings",component:ft((()=>gn((()=>import("./settings.8c94770e.js")),[])))},{path:"/about",component:ft((()=>gn((()=>import("./about.759c4845.js")),[])))},{path:"/",children:[{path:"/"},{path:"/library"}],element:()=>it(pe,{href:Bi})},{path:"/*all",component:ft((()=>gn((()=>import("./not-found.daf091cb.js")),[])))}],Pa=t=>it(da,{get enter(){return t.forwards?"Hc":"Ic"},get exit(){return t.forwards?"Kc":"Jc"},get children(){return t.children}}),La=jt("<div><div></div><div></div><div></div></div>",8),Ca=t=>{const e=t.map((t=>oe((()=>t))));return x((()=>e.map((t=>t())).some(Boolean)))};!1!==window.isSupportedBrowser&&function(t,e){const n=[],r={use:(t,e={})=>(n.push({provider:t,opts:e}),r),mount(e){const r=function({app:t,props:e={},providers:n}){return n.reduceRight(((t,{provider:e,opts:n={}})=>()=>it(e,{...n,get children(){return t()}})),(()=>it(t,e)))}({app:t,props:void 0,providers:n});return function(t,e,n,r={}){let o;return b((r=>{o=r,e===document?t():Ct(e,t(),e.firstChild?null:void 0,n)}),r.owner),()=>{o(),e.textContent=""}}(r,"string"==typeof e?document.querySelector(e):e)}};return r}((()=>{(()=>{(()=>{const t=new Audio,[e,n]=go(),r=()=>e.activeTrack,[o,{refetch:i,mutate:a}]=A(r,(async t=>{const e=null==t?void 0:t.fileWrapper;if(!e)return;if("file"===e.type)return e.file;if("url"===e.type)return e.url;const n=e.file;let r=await n.queryPermission({mode:"read"});if("granted"!==r){try{"prompt"===r&&(r=await n.requestPermission({mode:"read"}))}catch{}if("granted"!==r)return null}return n.getFile()}));g((()=>{void 0===r()&&(a(void 0),n.pause())})),_((()=>{const{isPlaying:r}=e,s=o();if(o.loading){const e=t.src;e&&(t.src="",t.removeAttribute("src"),e.startsWith("blob:")&&URL.revokeObjectURL(e))}else if(r){if(null===s)return a(void 0),n.pause(),void Cn({message:"To play selected track please grant requested permission first.",duration:!1});if(void 0!==s)try{if(!t.src&&(t.src="string"==typeof s?s:URL.createObjectURL(s),e.currentTimeChanged)){const n=e.currentTime;if(t.readyState>=1)t.currentTime=n;else{const e=()=>{t.currentTime=n,t.removeEventListener("loadedmetadata",e)};t.addEventListener("loadedmetadata",e)}}t.play()}catch(c){console.error(c),n.pause(),di()}else i()}else t.pause()})),t.onerror=t=>{console.error(t),$((()=>{n.pause(),di()}))},_((()=>{if(e.currentTimeChanged){const n=M((()=>e.currentTime)),r=M((()=>e.activeTrack));if(t.src&&r)if(t.readyState>=1)t.currentTime=n;else{const e=()=>{t.currentTime=n,t.removeEventListener("loadedmetadata",e)};t.addEventListener("loadedmetadata",e)}}})),t.ondurationchange=()=>{n.setDuration(t.duration)},t.ontimeupdate=()=>{const r=t.currentTime;n.setCurrentTime(r);const o=e.activeTrack;o&&r>0&&n.saveTrackTimestamp(o.id,r)},t.onended=()=>{const{repeat:t,activeTrack:r}=e;r&&n.clearTrackTimestamp(r.id),2!==t&&n.playNextTrack(0===t)},_((()=>{t.volume=Math.pow(e.volume/100,.5),t.muted=e.isMuted,t.loop=2===e.repeat})),document.addEventListener("keydown",(t=>{if((t=>t.composedPath().some((t=>{return(e=t)instanceof HTMLInputElement&&"text"===e.type;var e})))(t))return;const{shiftKey:e}=t;switch(t.code){case on.SPACE:n.playPause();break;case on.M:n.toggleMute();break;case on.N:if(e){n.playNextTrack();break}return;case on.P:if(e){n.playPreveousTrack();break}return;default:return}t.preventDefault()}));const s=window.navigator.mediaSession;if(s){const e=z(Ce),o=Symbol("key");_((()=>{var t;const n=r();if(!n)return void(s.metadata=null);const{image:i}=n,a=i&&(null==e?void 0:e.get(i,o))||"";s.metadata=new MediaMetadata({title:n.name,artist:null==(t=n.artists)?void 0:t.join(", "),album:n.album,artwork:[{src:a,sizes:"512x512",type:"image/png"}]}),O((()=>{i&&(null==e||e.release(i,o))}))}));const i=s.setActionHandler.bind(s);i("play",n.play),i("pause",n.pause),i("previoustrack",n.playPreveousTrack),i("nexttrack",(()=>n.playNextTrack())),i("seekbackward",(()=>{t.currentTime=Math.max(t.currentTime-10,0)})),i("seekforward",(()=>{t.currentTime=Math.max(t.currentTime-10,0)}))}})();const[t]=go(),e=tn(),n=document.querySelector('meta[name="theme-color"]');_((()=>{var r;const o=e(),i=null==(r=t.activeTrack)?void 0:r.primaryColor,a=document.documentElement;if(void 0!==i)gn((()=>import("./app-theme.c2072629.js")),[]).then((t=>{const e=t.getAppTheme(i,o);ui(a,hi,e),n.content=e.surface}));else{const t=Object.fromEntries(Object.entries(hi).map((([t])=>[t,""])));ui(a,hi,t)}})),(async t=>{await(async()=>"loading"===document.readyState?new Promise((t=>{window.addEventListener("load",t,{once:!0})})):Promise.resolve())();const{serviceWorker:e}=navigator,n=await e.register(fi,{scope:"/"}),r=e=>{t.onNeedRefresh((()=>{const{waiting:t}=e;t&&t.postMessage("skip-waiting")}))};n.waiting&&r(n);let o=!1;n.addEventListener("updatefound",(()=>{const{installing:t}=n;t&&t.addEventListener("statechange",(()=>{n.waiting&&(navigator.serviceWorker.controller?r(n):o=!0)}))}));let i=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{o?o=!1:i||(window.location.reload(),i=!0)}))})({onNeedRefresh(t){Cn({message:"An app update is available",duration:!1,controls:[{title:"Reload",action:()=>{t()}}]})}}),(t=>{const e=new Set,n=t=>{t.rippleCanExit?t.animate({opacity:0},{duration:200,easing:"linear"}).finished.then((()=>{e.delete(t),t.remove()})):t.rippleCanExit=!0},r=()=>{e.size&&e.forEach(n)};document.addEventListener("pointercancel",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("pointerdown",(t=>{if(0!==t.button)return;const r=t.composedPath().find((t=>{var e;return null==(e=t.classList)?void 0:e.contains("na")}));if(!r||r.hasAttribute("disabled"))return;const o=r.getBoundingClientRect(),i=document.createElement("span");i.className="Hb",i.rippleCanExit=!1;const a=t.clientX-o.left,s=t.clientY-o.top;Ye(i,{top:s-2+"px",left:a-2+"px"}),e.add(i),r.appendChild(i);const c=Math.max(a,o.width-a),l=Math.max(s,o.height-s),u=2*Math.max(c,l),f=Math.sqrt(u**2*2)/4;var d;i.animate({transform:["scale(0)",`scale(${f})`]},{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}),(d=i,d.animate(null,300)).finished.then((()=>n(i)))}),!0)})()})();const t=(e=Ia,()=>it(fe,{base:void 0,children:e}));var e;const n=Xt().isRouting,r=Ca(["/player","/player/queue"]),o=Ca(Ui.map((t=>`/library/${t.path}`))),[i,a]=y(!1);_((()=>{const t=o();requestAnimationFrame((()=>{a(t)}))}));const s=Ne("(max-width: 700px)");return(()=>{const e=La.cloneNode(!0),a=e.firstChild,c=a.nextSibling,l=c.nextSibling;return Ct(c,it(na.Provider,{value:()=>!r(),get children(){return it(Pa,{get forwards(){return i()},get children(){return it(gt,{get children(){return it(t,{})}})}})}})),Ct(l,it(da,{get enter(){return"Ob"},get exit(){return"Pb"},move:!0,get children(){return[it(Rn,{}),x((()=>x((()=>!r()),!0)()&&it(si,{})))]}})),k((t=>{const r="Ib",i=We("Mb",n()&&"Nb"),u="Jb",f=We("-J -F -S -V -x da ha Kb",o()&&nn&&s()&&"Lb");return r!==t.i&&(e.className=t.i=r),i!==t.l&&(a.className=t.l=i),u!==t.v&&(c.className=t.v=u),f!==t.p&&(l.className=t.p=f),t}),{i:void 0,l:void 0,v:void 0,p:void 0}),e})()})).use((t=>{const{source:e,url:n,base:r,data:o,out:i}=t,a=function(t,e="",n,r){const{signal:[o,i],utils:a={}}=function(t){return t?Array.isArray(t)?{signal:t}:t:{signal:y({value:""})}}(t),s=a.parsePath||(t=>t),c=a.renderPath||(t=>t),l=Yt("",e);if(void 0===l)throw new Error(`${l} is not a valid base path`);l&&!o().value&&i({value:l,replace:!0,scroll:!1});const[u,f]=[w,L],[d,h]=y(o().value),[v,p]=y(o().state),m=function(t,e){const n=new URL("http://sar"),r=x((e=>{const r=t();try{return new URL(r,n)}catch(o){return console.error(`Invalid path ${r}`),e}}),n,{equals:(t,e)=>t.href===e.href}),o=x((()=>r().pathname)),i=x((()=>r().search.slice(1))),a=x((()=>r().hash.slice(1))),s=x((()=>""));return{get pathname(){return o()},get search(){return i()},get hash(){return a()},get state(){return e()},get key(){return s()},query:Wt(T(i,(()=>function(t){const e={};return t.searchParams.forEach(((t,n)=>{e[n]=t})),e}(r()))))}}(d,v),b=[],g={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath:t=>Yt(l,t)};if(n)try{te=g,g.data=n({data:void 0,params:{},location:m,navigate:A(g)})}finally{te=void 0}function _(t,e,n){M((()=>{if("number"==typeof e)return void(e&&(a.go?a.go(e):console.warn("Router integration does not support relative routing")));const{replace:r,resolve:o,scroll:s,state:c}={replace:!1,resolve:!0,scroll:!0,...n},l=o?t.resolvePath(e):Yt("",e);if(void 0===l)throw new Error(`Path '${e}' is not a routable path`);if(b.length>=100)throw new Error("Too many redirects");const u=d();if(l!==u||c!==v()){const t=b.push({value:u,replace:r,scroll:s,state:v});f((()=>{h(l),p(c),mt&&[...mt].forEach((t=>t()))})).then((()=>{b.length===t&&function(t){const e=b[0];e&&(t.value===e.value&&t.state===e.state||i({...t,replace:e.replace,scroll:e.scroll}),b.length=0)}({value:l,state:c})}))}}))}function A(t){return t=t||z(Qt)||g,(e,n)=>_(t,e,n)}k((()=>{const{value:t,state:e}=o();t!==M(d)&&f((()=>{h(t),p(e)}))}));{let t=function(t){if(t.defaultPrevented||0!==t.button||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;const e=t.composedPath().find((t=>t instanceof Node&&"A"===t.nodeName.toUpperCase()));if(!e)return;const n=e instanceof SVGAElement,r=n?e.href.baseVal:e.href;if((n?e.target.baseVal:e.target)||!r&&!e.hasAttribute("state"))return;const o=(e.getAttribute("rel")||"").split(/\s+/);if(e.hasAttribute("download")||o&&o.includes("external"))return;const i=n?new URL(r,document.baseURI):new URL(r);if(i.origin!==window.location.origin||l&&i.pathname&&!i.pathname.toLowerCase().startsWith(l.toLowerCase()))return;const a=s(i.pathname+i.search+i.hash),c=e.getAttribute("state");t.preventDefault(),_(g,a,{resolve:!1,replace:e.hasAttribute("replace"),scroll:!e.hasAttribute("noscroll"),state:c&&JSON.parse(c)})};document.addEventListener("click",t),O((()=>document.removeEventListener("click",t)))}return{base:g,out:void 0,location:m,isRouting:u,renderPath:c,parsePath:s,navigatorFactory:A}}(e||function(t,e,n,r){let o=!1;const i=t=>"string"==typeof t?{value:t}:t,a=function([t,e],n,r){return[n?()=>n(t()):t,r?t=>e(r(t)):e]}(y(i(t()),{equals:(t,e)=>t.value===e.value}),void 0,(t=>(!o&&(({value:t,replace:e,scroll:n,state:r})=>{e?window.history.replaceState(r,"",t):window.history.pushState(r,"",t),function(t,e){const n=document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}(window.location.hash.slice(1),n)})(t),t)));return n&&O(n(((e=t())=>{o=!0,a[1](i(e)),o=!1}))),{signal:a,utils:r}}((()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state})),0,(t=>{return e=window,n="popstate",r=()=>t(),e.addEventListener(n,r),()=>e.removeEventListener(n,r);var e,n,r}),{go:t=>window.history.go(t)}),r,o);return it(Jt.Provider,{value:a,get children(){return t.children}})})).use((t=>it(bt,{fallback:Mo,get children(){return t.children}}))).use((t=>{const e=new WeakMap,n=new Set;let r=null;return it(Ce.Provider,{value:{get:(t,n)=>{const r=e.get(t);if(r)return r.users.add(n),r.url;const o=URL.createObjectURL(t);return e.set(t,{url:o,users:new Set([n])}),o},release:(t,o)=>{const i=e.get(t);i&&(i.users.delete(o),n.add(t),null===r&&(r=window.setTimeout((()=>{r=null,(()=>{for(const t of n.keys()){const n=e.get(t);n&&0===n.users.size&&e.delete(t)}n.clear()})()}),4e3)))}},get children(){return t.children}})})).use((t=>it(po,{get children(){return it(mo,{get children(){return it(yo,{get children(){return it(ho,{storageName:"APP_DATA",version:1,useStores:[wo,bo,go],get children(){return t.children}})}})}})}}))).use((t=>{const[e,n]=Se({modals:[]}),r=Object.keys(_o).map((t=>[t,{show:r=>{const o=pn(),i={id:o,key:t,modalProps:r,close:()=>{n("modals",(t=>t.filter((t=>t.id!==o))))}};n("modals",[...e.modals,i])}}])),o=Object.fromEntries(r);return it(xo.Provider,{value:o,get children(){return[(()=>{const t=ko.cloneNode(!0);return Ct(t,it(dt,{get each(){return e.modals},children:t=>[(()=>{const e=ko.cloneNode(!0);return e.$$click=()=>t.close(),k((()=>e.className="Ma")),e})(),it(Vt,lt({get component(){return _o[t.key]}},(()=>t.modalProps),{get close(){return t.close}}))]})),k((()=>t.className="La")),t})(),x((()=>t.children))]}})})).use((t=>{const[e,n]=Se({isOpen:!1,items:[]});let r,o;const i=()=>{e.isOpen&&rn(r,!0,{duration:100,easing:"linear"}).finished.then((()=>{n("isOpen",!1),o&&o.focus()}))};let a;window.addEventListener("contextmenu",(t=>{const e=t.composedPath()[0];e instanceof HTMLInputElement&&"text"===e.type||t.preventDefault()}));const s=()=>{queueMicrotask((()=>{qe(a)||i()}))},c=t=>{t.code===on.ESC&&(t.preventDefault(),t.stopPropagation(),i())};return it(hn.Provider,{value:{show:(t,e,i)=>{var a,s;o=e;let c,l=[];"component"in t?c=t.component:l=t,n({isOpen:!0,items:l,component:c});const u=r.getBoundingClientRect(),f={...u,width:null!=(a=i.width)?a:u.width,height:null!=(s=i.height)?s:u.height};let d;d=i.anchor?((t,e,n)=>{const{horizontal:r="left",vertical:o="top"}=n||{},i=e.getBoundingClientRect(),{top:a,left:s}=i,c="top"===o?a:i.bottom-t.height,l="left"===r?s:i.right-t.width;return{top:c,left:l,originY:Math.abs(a-c+i.height/2),originX:Math.abs(s-l+i.width/2)}})(f,e,i.preferredAlign):i.position,((t,e)=>{const n=Math.min(e.top,window.innerHeight-e.height),r=Math.min(e.left,window.innerWidth-e.width);Ye(t,{width:`${e.width}px`,height:`${e.height}px`,top:`${n}px`,left:`${r}px`,"transform-origin":`${e.originX||0}px ${e.originY||0}px`})})(r,{...f,...d}),rn(r,!1,{duration:45,easing:"linear"}),r.animate({transform:["scale(.8)","none"]},{duration:150,easing:"cubic-bezier(0, 0, .2, 1)"}).finished.then((()=>{r.focus()}))}},get children(){return[it(vt,{get when(){return e.isOpen},get children(){return[(()=>{const t=ln.cloneNode(!0);return k((()=>t.className="za")),t})(),(()=>{const t=un.cloneNode(!0);return t.$$focusout=s,t.$$keydown=c,"function"==typeof a?a(t):a=t,t._=P(),Ct(t,it(vt,{get when(){return!e.component},get fallback(){return(()=>{const t=fn.cloneNode(!0);return"function"==typeof r?r(t):r=t,Ct(t,(()=>e.component)),k((()=>t.className=cn)),t})()},get children(){return it(sn,{ref(t){"function"==typeof r?r(t):r=t},get class(){return cn},"role-description":"Menu",get children(){return it(dt,{get each(){return e.items},children:t=>(()=>{const e=dn.cloneNode(!0);return e.$$click=()=>{t.action(),i()},Ct(e,(()=>t.name)),k((()=>e.className=We("na -q -t va",t.selected&&"Ba"))),e})()})}})}})),t})()]}}),x((()=>t.children))]}})})).mount("body");export{Re as $,Wi as A,ft as B,Yo as C,Ao as D,ie as E,dt as F,Ue as G,_n as H,ei as I,So as J,on as K,sn as L,ba as M,Lo as N,kn as O,Pi as P,qi as Q,Ni as R,ra as S,oi as T,xn as U,Ko as V,Ri as W,Fi as X,_ as Y,It as Z,gn as _,wo as a,qe as a0,M as a1,Vt as a2,Qe as a3,tn as a4,Xe as a5,k as b,it as c,Ot as d,vt as e,y as f,P as g,x as h,Ct as i,Ee as j,vn as k,ze as l,en as m,Io as n,O as o,ii as p,zo as q,We as r,Qo as s,jt as t,ne as u,go as v,Si as w,Ne as x,ta as y,oe as z};
