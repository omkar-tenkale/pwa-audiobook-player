import{B as t,_ as e,a as r,v as i,k as a,D as n,E as l,u as o,h as s,G as w,U as h,H as d,c,y as v,i as b,J as u,F as m,N as g,q as _,b as k,w as p,M as f,e as q,d as $,t as x,O as y}from"./index.a73a071c.js";var I="la F Q -a y";const z=x("<section><div><div></div><h1></h1><div></div><div><button>Play</button></div></div></section>",14),A=x("<div></div>",2),O=t((()=>e((()=>import("./not-found.36030863.js")),["assets/not-found.36030863.js","assets/index.a73a071c.js"]))),j=t=>{const[e,$]=r(),[,x]=i(),j=a(),E=n(),B=l(),N=o(),R=s((()=>{var r;const i=decodeURIComponent(B.itemId||""),a=(()=>{switch(t.type){case y.ALBUM:return e.albums;case y.ARTIST:return e.artists;case y.PLAYLIST:return e.playlists;default:throw new Error("Wrong item type")}})()[i]||(null==(r=t.itemSelector)?void 0:r.call(t,i,e));if(!a)return null;let n=!1,l=Object.values(e.tracks).filter((e=>!!a.trackIds.includes(e.id)&&(t.showTrackIndex&&!n&&void 0!==e.trackNo&&(n=!0),!0)));const{sortTrackByKey:o}=t;o&&(l=w(l,o));const s=l.map((t=>t.id));return{isUnkownOrFavorite:i===h||i===d,item:a,trackIds:s,atLeastOneTrackHasNo:n}})),T=()=>{var t;x.playTrack(0,(null==(t=R())?void 0:t.trackIds)||[])},U=e=>{const r=R();if(!r)return;const{trackIds:i}=r;j.show([{name:"Add to queue",action:()=>x.addToQueue(i)},{name:"Add to playlist",action:()=>E.addToPlaylists.show({trackIds:i})},{name:"Remove from the library",action:()=>{$.remove(r.item.id,t.type),N("/")}}],e.target,{anchor:!0,preferredAlign:{horizontal:"right"}})},C=R;return c(q,{get when(){return R()},get fallback(){return c(O,{})},get children(){return c(v,{get title(){return`${C().item.name||""}`},get topBar(){return t.title},scrollable:!0,get children(){return[(()=>{const e=z.cloneNode(!0),r=e.firstChild,i=r.firstChild,a=i.nextSibling,n=a.nextSibling,l=n.nextSibling,o=l.firstChild,s=o.firstChild;return b(e,c(u,{get item(){return C().item},get class(){return"Wc"}}),r),b(i,(()=>{var e;return null==(e=t.label)?void 0:e.call(t,C().item)})),b(a,(()=>C().item.name)),b(n,c(m,{get each(){var e;return(null==(e=t.info)?void 0:e.call(t,C().item))||[]},children:t=>(()=>{const e=A.cloneNode(!0);return b(e,t),e})()})),o.$$click=T,b(o,c(g,{icon:"play"}),s),b(l,c(_,{icon:"moreVertical",title:"Add to..",onClick:U}),null),k((t=>{const s="-C -K -G -M -S fa -y _c",w="-J -F -S -V ha Yc",h=I,d="la A L W x Xc",c=I,v="ka Zc",b="na F Q -a -Y oa d q qa",u=!R().trackIds.length;return s!==t.t&&(e.className=t.t=s),w!==t.i&&(r.className=t.i=w),h!==t.l&&(i.className=t.l=h),d!==t.o&&(a.className=t.o=d),c!==t.h&&(n.className=t.h=c),v!==t.v&&(l.className=t.v=v),b!==t.u&&(o.className=t.u=b),u!==t.m&&(o.disabled=t.m=u),t}),{t:void 0,i:void 0,l:void 0,o:void 0,h:void 0,v:void 0,u:void 0,m:void 0}),e})(),c(p,{get showIndex(){return C().atLeastOneTrackHasNo},get items(){return C().trackIds},additionalMenuItems:(e,r)=>{var i;return(null==(i=t.additionalTrackMenuItems)?void 0:i.call(t,C().item,e,r))||[]},get fallback(){return c(f,{message:"Nothing here"})}})]}})}})};$(["click"]);export{j as default};
