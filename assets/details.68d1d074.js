import{z as t,_ as e,a as r,s as i,k as a,B as n,D as l,u as o,h as s,E as w,U as h,G as c,c as d,x as v,i as b,H as u,F as m,J as g,p as _,b as f,v as p,M as k,e as x,d as $,t as q,N as y}from"./index.6cc77cfb.js";var z="la F Q -a y";const I=q("<section><div><div></div><h1></h1><div></div><div><button>Play</button></div></div></section>",14),A=q("<div></div>",2),j=t((()=>e((()=>import("./not-found.af2bfd94.js")),["assets/not-found.af2bfd94.js","assets/index.6cc77cfb.js"]))),E=t=>{const[e,$]=r(),[,q]=i(),E=a(),O=n(),B=l(),N=o(),R=s((()=>{var r;const i=decodeURIComponent(B.itemId||""),a=(()=>{switch(t.type){case y.ALBUM:return e.albums;case y.ARTIST:return e.artists;case y.PLAYLIST:return e.playlists;default:throw new Error("Wrong item type")}})()[i]||(null==(r=t.itemSelector)?void 0:r.call(t,i,e));if(!a)return null;let n=!1,l=Object.values(e.tracks).filter((e=>!!a.trackIds.includes(e.id)&&(t.showTrackIndex&&!n&&void 0!==e.trackNo&&(n=!0),!0)));const{sortTrackByKey:o}=t;o&&(l=w(l,o));const s=l.map((t=>t.id));return{isUnkownOrFavorite:i===h||i===c,item:a,trackIds:s,atLeastOneTrackHasNo:n}})),T=()=>{var t;q.playTrack(0,(null==(t=R())?void 0:t.trackIds)||[])},U=e=>{const r=R();if(!r)return;const{trackIds:i}=r;E.show([{name:"Add to queue",action:()=>q.addToQueue(i)},{name:"Add to playlist",action:()=>O.addToPlaylists.show({trackIds:i})},{name:"Remove from the library",action:()=>{$.remove(r.item.id,t.type),N("/")}}],e.target,{anchor:!0,preferredAlign:{horizontal:"right"}})},C=R;return d(x,{get when(){return R()},get fallback(){return d(j,{})},get children(){return d(v,{get title(){return`${C().item.name||""}`},get topBar(){return t.title},scrollable:!0,get children(){return[(()=>{const e=I.cloneNode(!0),r=e.firstChild,i=r.firstChild,a=i.nextSibling,n=a.nextSibling,l=n.nextSibling,o=l.firstChild,s=o.firstChild;return b(e,d(u,{get item(){return C().item},get class(){return"Yc"}}),r),b(i,(()=>{var e;return null==(e=t.label)?void 0:e.call(t,C().item)})),b(a,(()=>C().item.name)),b(n,d(m,{get each(){var e;return(null==(e=t.info)?void 0:e.call(t,C().item))||[]},children:t=>(()=>{const e=A.cloneNode(!0);return b(e,t),e})()})),o.$$click=T,b(o,d(g,{icon:"play"}),s),b(l,d(_,{icon:"moreVertical",title:"Add to..",onClick:U}),null),f((t=>{const s="-C -K -G -M -S fa -y bd",w="-J -F -S -V ha _c",h=z,c="la A L W x Zc",d=z,v="ka ad",b="na F Q -a -Y oa d q qa",u=!R().trackIds.length;return s!==t.t&&(e.className=t.t=s),w!==t.i&&(r.className=t.i=w),h!==t.l&&(i.className=t.l=h),c!==t.o&&(a.className=t.o=c),d!==t.h&&(n.className=t.h=d),v!==t.v&&(l.className=t.v=v),b!==t.u&&(o.className=t.u=b),u!==t.m&&(o.disabled=t.m=u),t}),{t:void 0,i:void 0,l:void 0,o:void 0,h:void 0,v:void 0,u:void 0,m:void 0}),e})(),d(p,{get showIndex(){return C().atLeastOneTrackHasNo},get items(){return C().trackIds},additionalMenuItems:(e,r)=>{var i;return(null==(i=t.additionalTrackMenuItems)?void 0:i.call(t,C().item,e,r))||[]},get fallback(){return d(k,{message:"Nothing here"})}})]}})}})};$(["click"]);export{E as default};
